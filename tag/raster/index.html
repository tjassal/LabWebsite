<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US">
<!--<![endif]-->
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width">
	<title>Raster | The Biogoegraphy &amp; Landscape Dynamics Lab</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="https://tjassal.github.io/LabWebsite/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="https://tjassal.github.io/LabWebsite/wp-content/themes/twentyfourteen/js/html5.js?ver=3.7.0"></script>
	<![endif]-->
	<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link href='https://fonts.gstatic.com/' crossorigin rel='preconnect' />
<link rel="alternate" type="application/rss+xml" title="The Biogoegraphy &amp; Landscape Dynamics Lab &raquo; Feed" href="https://tjassal.github.io/LabWebsite/feed/" />
<link rel="alternate" type="application/rss+xml" title="The Biogoegraphy &amp; Landscape Dynamics Lab &raquo; Comments Feed" href="https://tjassal.github.io/LabWebsite/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="The Biogoegraphy &amp; Landscape Dynamics Lab &raquo; Raster Tag Feed" href="https://tjassal.github.io/LabWebsite/tag/raster/feed/" />
<link rel='stylesheet' id='twentyfourteen-jetpack-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/jetpack/modules/theme-tools/compat/twentyfourteen.css?ver=8.3' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-classic-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta' type='text/css' media='all' />
<link rel='stylesheet' id='wp-block-library-css'  href='https://tjassal.github.io/LabWebsite/wp-includes/css/dist/block-library/style.min.css?ver=5.2' type='text/css' media='all' />
<style id='wp-block-library-inline-css' type='text/css'>
.has-text-align-justify{text-align:justify;}
</style>
<link rel='stylesheet' id='wp-block-library-theme-css'  href='https://tjassal.github.io/LabWebsite/wp-includes/css/dist/block-library/theme.min.css?ver=5.2' type='text/css' media='all' />
<link rel='stylesheet' id='nivo_simplified_cssd-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/nivo-slider-simplified/css/themes/default/default.css?ver=5.2' type='text/css' media='all' />
<link rel='stylesheet' id='nivo_simplified_cssl-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/nivo-slider-simplified/css/themes/light/light.css?ver=5.2' type='text/css' media='all' />
<link rel='stylesheet' id='nivo_simplified_cssda-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/nivo-slider-simplified/css/themes/dark/dark.css?ver=5.2' type='text/css' media='all' />
<link rel='stylesheet' id='nivo_simplified_cssb-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/nivo-slider-simplified/css/themes/bar/bar.css?ver=5.2' type='text/css' media='all' />
<link rel='stylesheet' id='nivo_simplified_cssns-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/nivo-slider-simplified/css/nivo-slider.css?ver=5.2' type='text/css' media='all' />
<link rel='stylesheet' id='bwg_fonts-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/photo-gallery/css/bwg-fonts/fonts.css?ver=0.0.1' type='text/css' media='all' />
<link rel='stylesheet' id='sumoselect-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/photo-gallery/css/sumoselect.min.css?ver=3.0.3' type='text/css' media='all' />
<link rel='stylesheet' id='mCustomScrollbar-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/photo-gallery/css/jquery.mCustomScrollbar.min.css?ver=1.5.59' type='text/css' media='all' />
<link rel='stylesheet' id='bwg_frontend-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/photo-gallery/css/styles.min.css?ver=1.5.59' type='text/css' media='all' />
<link rel='stylesheet' id='twttr_stylesheet-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/twitter-plugin/css/style.css?ver=5.2' type='text/css' media='all' />
<link rel='stylesheet' id='wpt-twitter-feed-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/wp-to-twitter/css/twitter-feed.css?ver=5.2' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfourteen-lato-css'  href='https://fonts.googleapis.com/css?family=Lato%3A300%2C400%2C700%2C900%2C300italic%2C400italic%2C700italic&#038;subset=latin%2Clatin-ext&#038;display=fallback' type='text/css' media='all' />
<link rel='stylesheet' id='genericons-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/jetpack/_inc/genericons/genericons/genericons.css?ver=3.1' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfourteen-style-css'  href='https://tjassal.github.io/LabWebsite/wp-content/themes/twentyfourteen/style.css?ver=20190507' type='text/css' media='all' />
<link rel='stylesheet' id='twentyfourteen-block-style-css'  href='https://tjassal.github.io/LabWebsite/wp-content/themes/twentyfourteen/css/blocks.css?ver=20190102' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfourteen-ie-css'  href='https://tjassal.github.io/LabWebsite/wp-content/themes/twentyfourteen/css/ie.css?ver=20140701' type='text/css' media='all' />
<![endif]-->
<link rel='stylesheet' id='tablepress-default-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/tablepress/css/default.min.css?ver=1.9.2' type='text/css' media='all' />
<link rel='stylesheet' id='jetpack_css-css'  href='https://tjassal.github.io/LabWebsite/wp-content/plugins/jetpack/css/jetpack.css?ver=8.3' type='text/css' media='all' />
<script type='text/javascript'>
/* <![CDATA[ */
var SDT_DATA = {"ajaxurl":"https:\/\/www.timassal.com\/wp-admin\/admin-ajax.php","siteUrl":"https:\/\/www.timassal.com\/","pluginsUrl":"https:\/\/www.timassal.com\/wp-content\/plugins","isAdmin":""};
/* ]]> */
</script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/www.timassal.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript'>
var DTGS_NONCE_FRONTEND = "4a3b62fc4b"
</script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/plugins/nivo-slider-simplified/js/jquery.nivo.slider.js?ver=5.2'></script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/plugins/photo-gallery/js/jquery.sumoselect.min.js?ver=3.0.3'></script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/plugins/photo-gallery/js/jquery.mobile.min.js?ver=1.3.2'></script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/plugins/photo-gallery/js/jquery.mCustomScrollbar.concat.min.js?ver=1.5.59'></script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/plugins/photo-gallery/js/jquery.fullscreen-0.4.1.min.js?ver=0.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var bwg_objectsL10n = {"bwg_field_required":"field is required.","bwg_mail_validation":"This is not a valid email address.","bwg_search_result":"There are no images matching your search.","bwg_select_tag":"Select Tag","bwg_order_by":"Order By","bwg_search":"Search","bwg_show_ecommerce":"Show Ecommerce","bwg_hide_ecommerce":"Hide Ecommerce","bwg_show_comments":"Show Comments","bwg_hide_comments":"Hide Comments","bwg_restore":"Restore","bwg_maximize":"Maximize","bwg_fullscreen":"Fullscreen","bwg_exit_fullscreen":"Exit Fullscreen","bwg_search_tag":"SEARCH...","bwg_tag_no_match":"No tags found","bwg_all_tags_selected":"All tags selected","bwg_tags_selected":"tags selected","play":"Play","pause":"Pause","is_pro":"","bwg_play":"Play","bwg_pause":"Pause","bwg_hide_info":"Hide info","bwg_show_info":"Show info","bwg_hide_rating":"Hide rating","bwg_show_rating":"Show rating","ok":"Ok","cancel":"Cancel","select_all":"Select all","lazy_load":"0","lazy_loader":"https:\/\/www.timassal.com\/wp-content\/plugins\/photo-gallery\/images\/ajax_loader.png","front_ajax":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/plugins/photo-gallery/js/scripts.min.js?ver=1.5.59'></script>
<link rel='https://api.w.org/' href='https://tjassal.github.io/LabWebsite/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://tjassal.github.io/LabWebsite/xmlrpc.php?rsd" />
<meta name="generator" content="WordPress 5.2" />

<!-- BEGIN Clicky Analytics v1.6.1 Tracking - https://deconf.com/clicky-analytics-dashboard-wordpress/ -->
<script type="text/javascript">
  var clicky_custom = clicky_custom || {};
  clicky_custom.html_media_track = 1;
</script>

<script type="text/javascript">var clicky_site_ids = clicky_site_ids || [];clicky_site_ids.push(100918202);</script><script async src="//static.getclicky.com/js"></script>
<script src='//static.getclicky.com/inc/javascript/video/youtube.js'></script>
<!-- END Clicky Analytics v1.6.1 Tracking - https://deconf.com/clicky-analytics-dashboard-wordpress/ -->
<meta name="generator" content="Site Kit by Google 1.12.0" />	<link href="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Styles/SyntaxHighlighter.css" type="text/css" rel="stylesheet" />
	<!-- Analytics by WP-Statistics v12.6.13 - https://wp-statistics.com/ -->

<link rel='dns-prefetch' href='//i0.wp.com'/>
<link rel='dns-prefetch' href='//i1.wp.com'/>
<link rel='dns-prefetch' href='//i2.wp.com'/>
<style type='text/css'>img#wpstats{display:none}</style><meta name="google-site-verification" content="_stmECMCTaWytPcD_dfzAgFVMSl1bmCsOO9IvuAHWrE"></head>

<body class="archive tag tag-raster tag-134 wp-embed-responsive do-etfw header-image list-view">
<div id="page" class="hfeed site">
		<div id="site-header">
		<a href="https://tjassal.github.io/LabWebsite/" rel="home">
			<img src="https://tjassal.github.io/LabWebsite/wp-content/uploads/2018/01/cropped-Halong_panorama.jpg" width="1260" height="243" alt="The Biogoegraphy &amp; Landscape Dynamics Lab">
		</a>
	</div>
	
	<header id="masthead" class="site-header" role="banner">
		<div class="header-main">
			<h1 class="site-title"><a href="https://tjassal.github.io/LabWebsite/" rel="home">The Biogoegraphy &amp; Landscape Dynamics Lab</a></h1>

			<div class="search-toggle">
				<a href="#search-container" class="screen-reader-text" aria-expanded="false" aria-controls="search-container">Search</a>
			</div>

			<nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation">
				<button class="menu-toggle">Primary Menu</button>
				<a class="screen-reader-text skip-link" href="#content">Skip to content</a>
				<div id="primary-menu" class="nav-menu"><ul>
<li class="page_item page-item-239"><a href="https://tjassal.github.io/LabWebsite/">About</a></li>
<li class="page_item page-item-2 current_page_parent"><a href="https://tjassal.github.io/LabWebsite/sample-page/">Lab Notebook</a></li>
<li class="page_item page-item-258"><a href="https://tjassal.github.io/LabWebsite/research/">Research</a></li>
<li class="page_item page-item-543"><a href="https://tjassal.github.io/LabWebsite/publications/">Publications &#038; PRESENTATIONS</a></li>
<li class="page_item page-item-1965"><a href="https://tjassal.github.io/LabWebsite/media/">Media</a></li>
<li class="page_item page-item-35"><a href="https://tjassal.github.io/LabWebsite/cv/">Curriculum Vitae</a></li>
</ul></div>
			</nav>
		</div>

		<div id="search-container" class="search-box-wrapper hide">
			<div class="search-box">
				<form role="search" method="get" class="search-form" action="https://tjassal.github.io/LabWebsite/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form>			</div>
		</div>
	</header><!-- #masthead -->

	<div id="main" class="site-main">

	<section id="primary" class="content-area">
		<div id="content" class="site-content" role="main">

			
			<header class="archive-header">
				<h1 class="archive-title">
				Tag Archives: Raster				</h1>

							</header><!-- .archive-header -->

				
<article id="post-2092" class="post-2092 post type-post status-publish format-standard has-post-thumbnail hentry category-blog-lite tag-focal-analysis tag-moving-window tag-open-science tag-open-source tag-r-statistics tag-raster tag-remote-sensing tag-satellite-imagery tag-science-communication tag-spatial-ecology tag-spatial-statistics">
	
	<a class="post-thumbnail" href="https://tjassal.github.io/LabWebsite/2019/05/31/moving-windows-in-r-rectangles-circles-and-zeros-oh-my/" aria-hidden="true">
			<img width="672" height="372" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/06/DSCN5619.jpg?resize=672%2C372&amp;ssl=1" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Moving Windows in R: Rectangles, Circles, and Zeros&#8230;Oh my!" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/06/DSCN5619.jpg?resize=672%2C372&amp;ssl=1 672w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/06/DSCN5619.jpg?resize=1038%2C576&amp;ssl=1 1038w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/06/DSCN5619.jpg?zoom=2&amp;resize=672%2C372 1344w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/06/DSCN5619.jpg?zoom=3&amp;resize=672%2C372 2016w" sizes="(max-width: 672px) 100vw, 672px" />	</a>

			
	<header class="entry-header">
		<h1 class="entry-title"><a href="https://tjassal.github.io/LabWebsite/2019/05/31/moving-windows-in-r-rectangles-circles-and-zeros-oh-my/" rel="bookmark">Moving Windows in R: Rectangles, Circles, and Zeros&#8230;Oh my!</a></h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="https://tjassal.github.io/LabWebsite/2019/05/31/moving-windows-in-r-rectangles-circles-and-zeros-oh-my/" rel="bookmark"><time class="entry-date" datetime="2019-05-31T18:35:58-06:00">May 31, 2019</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://tjassal.github.io/LabWebsite/author/tim-assalgmail-com/" rel="author">tim.assal@gmail.com</a></span></span>			<span class="comments-link"><a href="https://tjassal.github.io/LabWebsite/2019/05/31/moving-windows-in-r-rectangles-circles-and-zeros-oh-my/#respond">Leave a comment</a></span>
						</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p>Moving window analysis, sometimes referred to as focal analysis, is the process of calculating a value for a specific neighborhood of cells in a given raster. Typical functions calculated across the neighborhood are sum, mean, min, max, range, etc.</p>
<p>However, there are some key differences to keep in mind if you are using continuous vs. discrete data and/or applying a rectangular or circular moving window. These are fairly straightforward exercises in a GIS, but they become a bit more complex when executed in R <strong>(especially when applying a circular moving window to discrete data)</strong>. Below I outline examples of these four workflows in R.</p>
<p><strong><em>1. Apply Rectangular Moving Window to Continuous Data</em></strong></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836471053000241806" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
library(raster)
set.seed(12345)
# create raster data
r &lt;- raster(nrows = 120, ncol = 120, xmn=0)
r[] &lt;- sample(3, ncell(r), replace=TRUE)
r #note: pixel resolution is 1.5 x 1.5

#set margins for plots
par(mfrow=c(1,2), oma=c(0,1, 0, 1))  # all sides have 3 lines of space  

###
#1 apply rectangular moving window to continuous data
###
# 3x3 mean filter - rectangle 
r.R3 &lt;- focal(r, w=matrix(1/9,nrow=3,ncol=3), na.rm=FALSE) #the default is to not consider NAs
plot(r, main ="Input Raster") #plot orig
plot(r.R3, main="Rectangular MW") #plot 3x3 moving window
#####
#####</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836471053000241806-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471053000241806-2">2</div><div class="crayon-num" data-line="crayon-5f21836471053000241806-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471053000241806-4">4</div><div class="crayon-num" data-line="crayon-5f21836471053000241806-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471053000241806-6">6</div><div class="crayon-num" data-line="crayon-5f21836471053000241806-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471053000241806-8">8</div><div class="crayon-num" data-line="crayon-5f21836471053000241806-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471053000241806-10">10</div><div class="crayon-num" data-line="crayon-5f21836471053000241806-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471053000241806-12">12</div><div class="crayon-num" data-line="crayon-5f21836471053000241806-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471053000241806-14">14</div><div class="crayon-num" data-line="crayon-5f21836471053000241806-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471053000241806-16">16</div><div class="crayon-num" data-line="crayon-5f21836471053000241806-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471053000241806-18">18</div><div class="crayon-num" data-line="crayon-5f21836471053000241806-19">19</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836471053000241806-1"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">raster</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471053000241806-2"><span class="crayon-v">set</span><span class="crayon-sy">.</span><span class="crayon-e">seed</span><span class="crayon-sy">(</span><span class="crayon-cn">12345</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836471053000241806-3"><span class="crayon-c"># create raster data</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471053000241806-4"><span class="crayon-v">r</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-v">nrows</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">120</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ncol</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">120</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">xmn</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836471053000241806-5"><span class="crayon-v">r</span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">sample</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">ncell</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">replace</span><span class="crayon-o">=</span><span class="crayon-t">TRUE</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471053000241806-6"><span class="crayon-v">r</span><span class="crayon-h"> </span><span class="crayon-c">#note: pixel resolution is 1.5 x 1.5</span></div><div class="crayon-line" id="crayon-5f21836471053000241806-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471053000241806-8"><span class="crayon-c">#set margins for plots</span></div><div class="crayon-line" id="crayon-5f21836471053000241806-9"><span class="crayon-e">par</span><span class="crayon-sy">(</span><span class="crayon-v">mfrow</span><span class="crayon-o">=</span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">oma</span><span class="crayon-o">=</span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c"># all sides have 3 lines of space&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471053000241806-10">&nbsp;</div><div class="crayon-line" id="crayon-5f21836471053000241806-11"><span class="crayon-c">###</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471053000241806-12"><span class="crayon-c">#1 apply rectangular moving window to continuous data</span></div><div class="crayon-line" id="crayon-5f21836471053000241806-13"><span class="crayon-c">###</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471053000241806-14"><span class="crayon-c"># 3x3 mean filter - rectangle </span></div><div class="crayon-line" id="crayon-5f21836471053000241806-15"><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">R3</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">focal</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">w</span><span class="crayon-o">=</span><span class="crayon-e">matrix</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-o">/</span><span class="crayon-cn">9</span><span class="crayon-sy">,</span><span class="crayon-v">nrow</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-v">ncol</span><span class="crayon-o">=</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">na</span><span class="crayon-sy">.</span><span class="crayon-v">rm</span><span class="crayon-o">=</span><span class="crayon-t">FALSE</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">#the default is to not consider NAs</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471053000241806-16"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">main</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-s">"Input Raster"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">#plot orig</span></div><div class="crayon-line" id="crayon-5f21836471053000241806-17"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">R3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">main</span><span class="crayon-o">=</span><span class="crayon-s">"Rectangular MW"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">#plot 3x3 moving window</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471053000241806-18"><span class="crayon-c">#####</span></div><div class="crayon-line" id="crayon-5f21836471053000241806-19"><span class="crayon-c">#####</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p><figure id="attachment_2102" aria-describedby="caption-attachment-2102" style="width: 672px" class="wp-caption aligncenter"><a href="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_ContinuousData_Rectangle.jpeg" target="_blank" rel="noopener noreferrer"><img class="wp-image-2102 size-full" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_ContinuousData_Rectangle.jpeg?resize=474%2C319" alt="" width="474" height="319" srcset="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_ContinuousData_Rectangle.jpeg?w=672&amp;ssl=1 672w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_ContinuousData_Rectangle.jpeg?resize=300%2C202&amp;ssl=1 300w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-2102" class="wp-caption-text">Output of rectangular 3&#215;3 moving window. Input raster is at left.</figcaption></figure></p>
<p><strong><em>2. Apply Circular Moving Window to Continuous Data</em></strong></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f2183647105f908456713" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
###
#2 apply circular moving window to continuous data
###
#set the focal weight, since we are using a circle, set number to the radius of the circle (in units of CRS)
#cell resolution is 1.5 x 1.5
fw &lt;- focalWeight(r, 4, type='circle') 
#have a look at the shape of the moving window
fw
# apply moving window
r.C4&lt;-focal(r, w=fw, na.rm=TRUE) 
plot(r, main ="Input Raster") #plot original
plot(r.C4, main="Circular MW")
####
####</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f2183647105f908456713-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647105f908456713-2">2</div><div class="crayon-num" data-line="crayon-5f2183647105f908456713-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647105f908456713-4">4</div><div class="crayon-num" data-line="crayon-5f2183647105f908456713-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647105f908456713-6">6</div><div class="crayon-num" data-line="crayon-5f2183647105f908456713-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647105f908456713-8">8</div><div class="crayon-num" data-line="crayon-5f2183647105f908456713-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647105f908456713-10">10</div><div class="crayon-num" data-line="crayon-5f2183647105f908456713-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647105f908456713-12">12</div><div class="crayon-num" data-line="crayon-5f2183647105f908456713-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647105f908456713-14">14</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f2183647105f908456713-1"><span class="crayon-c">###</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647105f908456713-2"><span class="crayon-c">#2 apply circular moving window to continuous data</span></div><div class="crayon-line" id="crayon-5f2183647105f908456713-3"><span class="crayon-c">###</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647105f908456713-4"><span class="crayon-c">#set the focal weight, since we are using a circle, set number to the radius of the circle (in units of CRS)</span></div><div class="crayon-line" id="crayon-5f2183647105f908456713-5"><span class="crayon-c">#cell resolution is 1.5 x 1.5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647105f908456713-6"><span class="crayon-v">fw</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">focalWeight</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">'circle'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5f2183647105f908456713-7"><span class="crayon-c">#have a look at the shape of the moving window</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647105f908456713-8"><span class="crayon-v">fw</span></div><div class="crayon-line" id="crayon-5f2183647105f908456713-9"><span class="crayon-c"># apply moving window</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647105f908456713-10"><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">C4</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">focal</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">w</span><span class="crayon-o">=</span><span class="crayon-v">fw</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">na</span><span class="crayon-sy">.</span><span class="crayon-v">rm</span><span class="crayon-o">=</span><span class="crayon-t">TRUE</span><span class="crayon-sy">)</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5f2183647105f908456713-11"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">main</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-s">"Input Raster"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">#plot original</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647105f908456713-12"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">C4</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">main</span><span class="crayon-o">=</span><span class="crayon-s">"Circular MW"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f2183647105f908456713-13"><span class="crayon-c">####</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647105f908456713-14"><span class="crayon-c">####</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p><figure id="attachment_2103" aria-describedby="caption-attachment-2103" style="width: 672px" class="wp-caption aligncenter"><a href="https://i2.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_ContinuousData_Circular.jpeg" target="_blank" rel="noopener noreferrer"><img class="wp-image-2103 size-full" src="https://i2.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_ContinuousData_Circular.jpeg?resize=474%2C319" alt="" width="474" height="319" srcset="https://i2.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_ContinuousData_Circular.jpeg?w=672&amp;ssl=1 672w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_ContinuousData_Circular.jpeg?resize=300%2C202&amp;ssl=1 300w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-2103" class="wp-caption-text">Output of circular moving window. Input raster is at left.</figcaption></figure></p>
<p><strong><em>3. Apply Rectangular Moving Window to Discrete Data</em></strong></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836471064272593256" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
###
#3 apply rectangular moving window to discrete data (e.g. integer)
###
# 3x3 moving window; note, function is set to modal, so we will find the mode or count of each number...this essentially treats it as categorical
r.CAT.R3&lt;-focal(r, w=matrix(1,3,3), fun=modal)   
plot(r) #plot original
plot(r.CAT.R3)
####
####</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836471064272593256-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471064272593256-2">2</div><div class="crayon-num" data-line="crayon-5f21836471064272593256-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471064272593256-4">4</div><div class="crayon-num" data-line="crayon-5f21836471064272593256-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471064272593256-6">6</div><div class="crayon-num" data-line="crayon-5f21836471064272593256-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471064272593256-8">8</div><div class="crayon-num" data-line="crayon-5f21836471064272593256-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836471064272593256-1"><span class="crayon-c">###</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471064272593256-2"><span class="crayon-c">#3 apply rectangular moving window to discrete data (e.g. integer)</span></div><div class="crayon-line" id="crayon-5f21836471064272593256-3"><span class="crayon-c">###</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471064272593256-4"><span class="crayon-c"># 3x3 moving window; note, function is set to modal, so we will find the mode or count of each number...this essentially treats it as categorical</span></div><div class="crayon-line" id="crayon-5f21836471064272593256-5"><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">CAT</span><span class="crayon-sy">.</span><span class="crayon-v">R3</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">focal</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">w</span><span class="crayon-o">=</span><span class="crayon-e">matrix</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-cn">3</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fun</span><span class="crayon-o">=</span><span class="crayon-v">modal</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471064272593256-6"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">#plot original</span></div><div class="crayon-line" id="crayon-5f21836471064272593256-7"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">CAT</span><span class="crayon-sy">.</span><span class="crayon-v">R3</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471064272593256-8"><span class="crayon-c">####</span></div><div class="crayon-line" id="crayon-5f21836471064272593256-9"><span class="crayon-c">####</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p><figure id="attachment_2104" aria-describedby="caption-attachment-2104" style="width: 672px" class="wp-caption aligncenter"><a href="https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_DiscreteData_Rectangular.jpeg" target="_blank" rel="noopener noreferrer"><img class="wp-image-2104 size-full" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_DiscreteData_Rectangular.jpeg?resize=474%2C319" alt="" width="474" height="319" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_DiscreteData_Rectangular.jpeg?w=672&amp;ssl=1 672w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_DiscreteData_Rectangular.jpeg?resize=300%2C202&amp;ssl=1 300w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-2104" class="wp-caption-text">Output of 3&#215;3 rectangular moving window. Input raster is at left. Note: since the function was set to modal the data is treated as discrete data. Compare output with continuous data.</figcaption></figure></p>
<p><strong><em>4. Apply Circular Moving Window to Discrete Data</em></strong></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836471066584088914" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
###
#4 apply circular moving window to discrete data (e.g. integer)
###
#set up window
fw &lt;- ceiling(focalWeight(r, 5, type='circle'))#for integer output; type = circle indicates that d is in the units of the CRS
fw #take a look at the architecture of the moving window
#I highly recommend you set the zero's in the moving window to NA. If not, zero's can be added into your discrete data output under certain sizes/shapes of moving windows. Check the legend of the output data to identify if a zero has been introduced.
fw[fw==0]&lt;-NA
fw
#apply focal fxn
r.CAT.C5&lt;-focal(r, w=fw, fun=modal, na.rm=TRUE)
plot(r, main ="Input Raster") #plot original
plot(r.CAT.C5, main="Circular MW")
#####
#####</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836471066584088914-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471066584088914-2">2</div><div class="crayon-num" data-line="crayon-5f21836471066584088914-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471066584088914-4">4</div><div class="crayon-num" data-line="crayon-5f21836471066584088914-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471066584088914-6">6</div><div class="crayon-num" data-line="crayon-5f21836471066584088914-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471066584088914-8">8</div><div class="crayon-num" data-line="crayon-5f21836471066584088914-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471066584088914-10">10</div><div class="crayon-num" data-line="crayon-5f21836471066584088914-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471066584088914-12">12</div><div class="crayon-num" data-line="crayon-5f21836471066584088914-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836471066584088914-14">14</div><div class="crayon-num" data-line="crayon-5f21836471066584088914-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836471066584088914-1"><span class="crayon-c">###</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471066584088914-2"><span class="crayon-c">#4 apply circular moving window to discrete data (e.g. integer)</span></div><div class="crayon-line" id="crayon-5f21836471066584088914-3"><span class="crayon-c">###</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471066584088914-4"><span class="crayon-c">#set up window</span></div><div class="crayon-line" id="crayon-5f21836471066584088914-5"><span class="crayon-v">fw</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">ceiling</span><span class="crayon-sy">(</span><span class="crayon-e">focalWeight</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">type</span><span class="crayon-o">=</span><span class="crayon-s">'circle'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-c">#for integer output; type = circle indicates that d is in the units of the CRS</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471066584088914-6"><span class="crayon-v">fw</span><span class="crayon-h"> </span><span class="crayon-c">#take a look at the architecture of the moving window</span></div><div class="crayon-line" id="crayon-5f21836471066584088914-7"><span class="crayon-c">#I highly recommend you set the zero's in the moving window to NA. If not, zero's can be added into your discrete data output under certain sizes/shapes of moving windows. Check the legend of the output data to identify if a zero has been introduced.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471066584088914-8"><span class="crayon-v">fw</span><span class="crayon-sy">[</span><span class="crayon-v">fw</span><span class="crayon-o">==</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-t">NA</span></div><div class="crayon-line" id="crayon-5f21836471066584088914-9"><span class="crayon-v">fw</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471066584088914-10"><span class="crayon-c">#apply focal fxn</span></div><div class="crayon-line" id="crayon-5f21836471066584088914-11"><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">CAT</span><span class="crayon-sy">.</span><span class="crayon-v">C5</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">focal</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">w</span><span class="crayon-o">=</span><span class="crayon-v">fw</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">fun</span><span class="crayon-o">=</span><span class="crayon-v">modal</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">na</span><span class="crayon-sy">.</span><span class="crayon-v">rm</span><span class="crayon-o">=</span><span class="crayon-t">TRUE</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471066584088914-12"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">main</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-s">"Input Raster"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">#plot original</span></div><div class="crayon-line" id="crayon-5f21836471066584088914-13"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">.</span><span class="crayon-v">CAT</span><span class="crayon-sy">.</span><span class="crayon-v">C5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">main</span><span class="crayon-o">=</span><span class="crayon-s">"Circular MW"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836471066584088914-14"><span class="crayon-c">#####</span></div><div class="crayon-line" id="crayon-5f21836471066584088914-15"><span class="crayon-c">#####</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0004 seconds] -->
<p><figure id="attachment_2105" aria-describedby="caption-attachment-2105" style="width: 672px" class="wp-caption aligncenter"><a href="https://i2.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_DiscreteData_Circular.jpeg" target="_blank" rel="noopener noreferrer"><img class="wp-image-2105 size-full" src="https://i2.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_DiscreteData_Circular.jpeg?resize=474%2C319" alt="" width="474" height="319" srcset="https://i2.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_DiscreteData_Circular.jpeg?w=672&amp;ssl=1 672w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2019/06/MW_DiscreteData_Circular.jpeg?resize=300%2C202&amp;ssl=1 300w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-2105" class="wp-caption-text">Output of the circular moving window. Input raster is at left. Note: since the function was set to modal the data is treated as discrete data. Compare output with continuous data.</figcaption></figure></p>
<p>When doing analysis #4 in R, I highly recommend you set the zero&#8217;s in the moving window to NA. If not, zero&#8217;s can be added into your discrete data output under certain sizes/shapes of moving windows. Check the legend of the output data to identify if a zero has been introduced.</p>
<figure id="attachment_2108" aria-describedby="caption-attachment-2108" style="width: 672px" class="wp-caption aligncenter"><a href="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/05/MW_DiscreteData_Circular_ZerosIntroduced.jpeg" target="_blank" rel="noopener noreferrer"><img class="wp-image-2108 size-full" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/05/MW_DiscreteData_Circular_ZerosIntroduced.jpeg?resize=474%2C319" alt="" width="474" height="319" srcset="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/05/MW_DiscreteData_Circular_ZerosIntroduced.jpeg?w=672&amp;ssl=1 672w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/05/MW_DiscreteData_Circular_ZerosIntroduced.jpeg?resize=300%2C202&amp;ssl=1 300w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-2108" class="wp-caption-text">Output of the circular moving window when the zeros in the moving window were not set to NA. This process has introduced zeros into the output data (note legend). Compare output with image above which does not contain zeros.</figcaption></figure>
<p><em>*Banner image: Milano Centrale Railway Station, Lombardy, Italy.</em></p>
<div class="twttr_buttons"><div class="twttr_twitter">
					<a href="http://twitter.com/share?text=Moving+Windows+in+R%3A+Rectangles%2C+Circles%2C+and+Zeros...Oh+my%21" class="twitter-share-button" data-via="" data-hashtags=""  data-size="default" data-url="https://tjassal.github.io/LabWebsite/2019/05/31/moving-windows-in-r-rectangles-circles-and-zeros-oh-my/"  data-related="" target="_blank">Tweet</a>
				</div></div>	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="https://tjassal.github.io/LabWebsite/tag/focal-analysis/" rel="tag">focal analysis</a><a href="https://tjassal.github.io/LabWebsite/tag/moving-window/" rel="tag">moving window</a><a href="https://tjassal.github.io/LabWebsite/tag/open-science/" rel="tag">Open Science</a><a href="https://tjassal.github.io/LabWebsite/tag/open-source/" rel="tag">open source</a><a href="https://tjassal.github.io/LabWebsite/tag/r-statistics/" rel="tag">R statistics</a><a href="https://tjassal.github.io/LabWebsite/tag/raster/" rel="tag">Raster</a><a href="https://tjassal.github.io/LabWebsite/tag/remote-sensing/" rel="tag">remote sensing</a><a href="https://tjassal.github.io/LabWebsite/tag/satellite-imagery/" rel="tag">satellite imagery</a><a href="https://tjassal.github.io/LabWebsite/tag/science-communication/" rel="tag">science communication</a><a href="https://tjassal.github.io/LabWebsite/tag/spatial-ecology/" rel="tag">spatial ecology</a><a href="https://tjassal.github.io/LabWebsite/tag/spatial-statistics/" rel="tag">Spatial Statistics</a></span></footer></article><!-- #post-2092 -->

<article id="post-2019" class="post-2019 post type-post status-publish format-standard has-post-thumbnail hentry category-blog-lite tag-cloud-computing tag-cuyahoga-valley-national-park tag-deciduous-forest tag-forest-ecology tag-google-earth-engine tag-javascript tag-kent-state-univeristy tag-landsat tag-ndvi-time-series tag-open-access tag-open-data tag-open-science tag-raster tag-remote-sensing tag-satellite-imagery tag-science-communication tag-spatial-ecology tag-time-series">
	
	<a class="post-thumbnail" href="https://tjassal.github.io/LabWebsite/2019/02/11/exploring-vegetation-dynamics-using-google-earth-engine/" aria-hidden="true">
			<img width="672" height="372" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/2012-LM-110.jpg?resize=672%2C372&amp;ssl=1" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Exploring Vegetation Dynamics using Google Earth Engine" srcset="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/2012-LM-110.jpg?resize=672%2C372&amp;ssl=1 672w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/2012-LM-110.jpg?resize=1038%2C576&amp;ssl=1 1038w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/2012-LM-110.jpg?zoom=2&amp;resize=672%2C372 1344w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/2012-LM-110.jpg?zoom=3&amp;resize=672%2C372 2016w" sizes="(max-width: 672px) 100vw, 672px" />	</a>

			
	<header class="entry-header">
		<h1 class="entry-title"><a href="https://tjassal.github.io/LabWebsite/2019/02/11/exploring-vegetation-dynamics-using-google-earth-engine/" rel="bookmark">Exploring Vegetation Dynamics using Google Earth Engine</a></h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="https://tjassal.github.io/LabWebsite/2019/02/11/exploring-vegetation-dynamics-using-google-earth-engine/" rel="bookmark"><time class="entry-date" datetime="2019-02-11T13:28:56-06:00">February 11, 2019</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://tjassal.github.io/LabWebsite/author/tim-assalgmail-com/" rel="author">tim.assal@gmail.com</a></span></span>			<span class="comments-link"><a href="https://tjassal.github.io/LabWebsite/2019/02/11/exploring-vegetation-dynamics-using-google-earth-engine/#comments">7 Comments</a></span>
						</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		
<p>Below is an example from an upcoming lecture that I will be giving to the <a href="https://www.kent.edu/geography#" target="_blank" rel="noreferrer noopener" aria-label="Department of Geography (opens in a new tab)">Department of Geography</a> at Kent State University. In my talk I&#8217;ll show an example which compares plant productivity during the leaf-on and leaf-off seasons for nearby Cuyahoga Valley National Park. Below I’ll demonstrate the workflow I used to create NDVI using Google Earth Engine with data from the cloud. Thanks to <a href="https://geohackweek.github.io/" target="_blank" rel="noopener">geohackweek</a> for some pointers on code. </p>



<p><a href="https://developers.google.com/earth-engine/" target="_blank" rel="noreferrer noopener">Google Earth Engine</a> (GEE) is a cloud-based platform for planetary-scale environmental data analysis which uses a JavaScript API and an online IDE code editor. In short, you can utilize remotely sensed imagery available in Google’s cloud to run analyses without downloading the data to your local machine. You’ll need to sign up as a developer to gain access <a href="https://signup.earthengine.google.com/#!/" target="_blank" rel="noreferrer noopener">here.</a></p>



<p>To execute the example below, please download the park shapefile <a href="https://tjassal.github.io/LabWebsite/wp-content/uploads/2019/02/CVNP.zip" target="_blank" rel="noreferrer noopener" aria-label="here (opens in a new tab)">here</a> (Note, I&#8217;ve merged the shapefile into a single-part file as GEE doesn&#8217;t seem to be able to handle multi-part files very well). You’ll need to upload the shapefile into GEE using these <a href="https://developers.google.com/earth-engine/importing" target="_blank" rel="noreferrer noopener">instructions</a> (see the “Uploading table assets” section) and load the data into your script using these <a href="https://developers.google.com/earth-engine/asset_manager#importing-assets-to-your-script" target="_blank" rel="noreferrer noopener">instructions</a> (see the “Importing assets to your script” section).</p>



<p>Copy and paste the following code into the Code Editor of GEE:</p>



<!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f218364718c0755733205" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// load all Landsat 8 SR image within park boundary for a given season
var l8collection = ee.ImageCollection('LANDSAT/LC08/C01/T1_SR')
//var l8collection = ee.ImageCollection('LANDSAT/LC08/C01/T1_TOA')
          .filterBounds(ParkBound)  
          .filterDate('2018-06-01', '2018-09-30'); //leaf on season (June 1 to Sept 30)
//          .filterDate('2017-11-15', '2018-03-01'); // leaf-off season Nov 15 to March 1

print(l8collection);

// Mask pixels with clouds and cloud shadows using the 'pixel_qa' band
// that is based on the cfmask for surface reflectance. 
// https://landsat.usgs.gov/landsat-surface-reflectance-quality-assessment

// create function to mask clouds, cloud shadows, snow
var maskClouds = function(image){
  // make a new single band image from the pixel qa band
  var pixel_qa = image.select('pixel_qa');
  // retain clear (0) and water (1) pixels
  return image.updateMask(pixel_qa.eq(322));   
};

// use "map" to apply the function to each image in the collection
var l8masked = l8collection.map(maskClouds);
print(l8masked);

// create function to add NDVI using NIR (B5) and the red band (B4)
var getNDVI = function(img){
  return img.addBands(img.normalizedDifference(['B5','B4']).rename('NDVI'));
};

// map over image collection
var l8ndvi = l8masked.map(getNDVI);

// for each pixel, select the "best" set of bands from available images
// based on the maximum NDVI/greenness
var composite = l8ndvi.qualityMosaic('NDVI').clip(ParkBound);

//set visualization parameters for NDVI            
var ndviParams = {min: 0, max: 1, palette: ['red', 'yellow', 'green']};
Map.addLayer(composite.select('NDVI'), ndviParams, 'NDVI image');
            
//export image
// This will create a task in the 'tasks' tab
// launch from tasks tab to export image
Export.image.toDrive({
  image: composite.select('NDVI'),
  description: 'CVNP Leaf-on NDVI',
  //description: 'CVNP Leaf-off NDVI',
  scale:30 }); //meters</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f218364718c0755733205-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-2">2</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-4">4</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-6">6</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-8">8</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-10">10</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-12">12</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-14">14</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-16">16</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-18">18</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-20">20</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-22">22</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-24">24</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-26">26</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-28">28</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-30">30</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-32">32</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-34">34</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-36">36</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-38">38</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-40">40</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-42">42</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-44">44</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-46">46</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f218364718c0755733205-48">48</div><div class="crayon-num" data-line="crayon-5f218364718c0755733205-49">49</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f218364718c0755733205-1"><span class="crayon-c">// load all Landsat 8 SR image within park boundary for a given season</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">l8collection</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ee</span><span class="crayon-sy">.</span><span class="crayon-e">ImageCollection</span><span class="crayon-sy">(</span><span class="crayon-s">'LANDSAT/LC08/C01/T1_SR'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-3"><span class="crayon-c">//var l8collection = ee.ImageCollection('LANDSAT/LC08/C01/T1_TOA')</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filterBounds</span><span class="crayon-sy">(</span><span class="crayon-v">ParkBound</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filterDate</span><span class="crayon-sy">(</span><span class="crayon-s">'2018-06-01'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'2018-09-30'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//leaf on season (June 1 to Sept 30)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-6"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.filterDate('2017-11-15', '2018-03-01'); // leaf-off season Nov 15 to March 1</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-8"><span class="crayon-r">print</span><span class="crayon-sy">(</span><span class="crayon-v">l8collection</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-10"><span class="crayon-c">// Mask pixels with clouds and cloud shadows using the 'pixel_qa' band</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-11"><span class="crayon-c">// that is based on the cfmask for surface reflectance. </span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-12"><span class="crayon-c">// https://landsat.usgs.gov/landsat-surface-reflectance-quality-assessment</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-14"><span class="crayon-c">// create function to mask clouds, cloud shadows, snow</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-15"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">maskClouds</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">image</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// make a new single band image from the pixel qa band</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-17"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">pixel_qa</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-e">select</span><span class="crayon-sy">(</span><span class="crayon-s">'pixel_qa'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-18"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// retain clear (0) and water (1) pixels</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-e">updateMask</span><span class="crayon-sy">(</span><span class="crayon-v">pixel_qa</span><span class="crayon-sy">.</span><span class="crayon-e">eq</span><span class="crayon-sy">(</span><span class="crayon-cn">322</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-20"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-22"><span class="crayon-c">// use "map" to apply the function to each image in the collection</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-23"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">l8masked</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">l8collection</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-v">maskClouds</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-24"><span class="crayon-r">print</span><span class="crayon-sy">(</span><span class="crayon-v">l8masked</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-26"><span class="crayon-c">// create function to add NDVI using NIR (B5) and the red band (B4)</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-27"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">getNDVI</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">img</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">img</span><span class="crayon-sy">.</span><span class="crayon-e">addBands</span><span class="crayon-sy">(</span><span class="crayon-v">img</span><span class="crayon-sy">.</span><span class="crayon-e">normalizedDifference</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-s">'B5'</span><span class="crayon-sy">,</span><span class="crayon-s">'B4'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">rename</span><span class="crayon-sy">(</span><span class="crayon-s">'NDVI'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-29"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-30">&nbsp;</div><div class="crayon-line" id="crayon-5f218364718c0755733205-31"><span class="crayon-c">// map over image collection</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-32"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">l8ndvi</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">l8masked</span><span class="crayon-sy">.</span><span class="crayon-e">map</span><span class="crayon-sy">(</span><span class="crayon-v">getNDVI</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-34"><span class="crayon-c">// for each pixel, select the "best" set of bands from available images</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-35"><span class="crayon-c">// based on the maximum NDVI/greenness</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-36"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">composite</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">l8ndvi</span><span class="crayon-sy">.</span><span class="crayon-e">qualityMosaic</span><span class="crayon-sy">(</span><span class="crayon-s">'NDVI'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">clip</span><span class="crayon-sy">(</span><span class="crayon-v">ParkBound</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-38"><span class="crayon-c">//set visualization parameters for NDVI&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-39"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ndviParams</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">min</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">max</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">palette</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'red'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'yellow'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'green'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-40"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">addLayer</span><span class="crayon-sy">(</span><span class="crayon-v">composite</span><span class="crayon-sy">.</span><span class="crayon-e">select</span><span class="crayon-sy">(</span><span class="crayon-s">'NDVI'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ndviParams</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'NDVI image'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-42"><span class="crayon-c">//export image</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-43"><span class="crayon-c">// This will create a task in the 'tasks' tab</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-44"><span class="crayon-c">// launch from tasks tab to export image</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-45"><span class="crayon-v">Export</span><span class="crayon-sy">.</span><span class="crayon-v">image</span><span class="crayon-sy">.</span><span class="crayon-e">toDrive</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">image</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">composite</span><span class="crayon-sy">.</span><span class="crayon-e">select</span><span class="crayon-sy">(</span><span class="crayon-s">'NDVI'</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-47"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">description</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'CVNP Leaf-on NDVI'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f218364718c0755733205-48"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//description: 'CVNP Leaf-off NDVI',</span></div><div class="crayon-line" id="crayon-5f218364718c0755733205-49"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">scale</span><span class="crayon-o">:</span><span class="crayon-cn">30</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//meters</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->








<figure id="attachment_2027" aria-describedby="caption-attachment-2027" style="width: 300px" class="wp-caption aligncenter"><a href="https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafON.jpg" target="_blank" rel="noopener"><img class="wp-image-2027" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafON.jpg?resize=300%2C621" alt="" width="300" height="621" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafON.jpg?resize=494%2C1024&amp;ssl=1 494w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafON.jpg?resize=145%2C300&amp;ssl=1 145w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafON.jpg?w=553&amp;ssl=1 553w" sizes="(max-width: 300px) 100vw, 300px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-2027" class="wp-caption-text">NDVI derived from the leaf-on season over the national park. The code block above will produce this image in Google Earth Engine. Dark green pixels indicate high values of NDVI; orange/red pixels indicate low values.</figcaption></figure>
<figure id="attachment_2028" aria-describedby="caption-attachment-2028" style="width: 300px" class="wp-caption aligncenter"><a href="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafOFF.jpg" target="_blank" rel="noopener"><img class="wp-image-2028" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafOFF.jpg?resize=300%2C622" alt="" width="300" height="622" srcset="https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafOFF.jpg?resize=494%2C1024&amp;ssl=1 494w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafOFF.jpg?resize=145%2C300&amp;ssl=1 145w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2019/02/CVNP_NDVI_LeafOFF.jpg?w=553&amp;ssl=1 553w" sizes="(max-width: 300px) 100vw, 300px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-2028" class="wp-caption-text">NDVI derived from the leaf-off season over the national park. A quick comparison with the leaf-on image shows much lower NDVI values, indicating there are a lot of deciduous tree and shrub species within the park.</figcaption></figure>
<p><em>*Banner image: Changing seasons on Middle Mountain, Colorado, USA.</em></p>
<div class="twttr_buttons"><div class="twttr_twitter">
					<a href="http://twitter.com/share?text=Exploring+Vegetation+Dynamics+using+Google+Earth+Engine" class="twitter-share-button" data-via="" data-hashtags=""  data-size="default" data-url="https://tjassal.github.io/LabWebsite/2019/02/11/exploring-vegetation-dynamics-using-google-earth-engine/"  data-related="" target="_blank">Tweet</a>
				</div></div>	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="https://tjassal.github.io/LabWebsite/tag/cloud-computing/" rel="tag">Cloud computing</a><a href="https://tjassal.github.io/LabWebsite/tag/cuyahoga-valley-national-park/" rel="tag">Cuyahoga Valley National Park</a><a href="https://tjassal.github.io/LabWebsite/tag/deciduous-forest/" rel="tag">deciduous forest</a><a href="https://tjassal.github.io/LabWebsite/tag/forest-ecology/" rel="tag">forest ecology</a><a href="https://tjassal.github.io/LabWebsite/tag/google-earth-engine/" rel="tag">Google Earth Engine</a><a href="https://tjassal.github.io/LabWebsite/tag/javascript/" rel="tag">JavaScript</a><a href="https://tjassal.github.io/LabWebsite/tag/kent-state-univeristy/" rel="tag">Kent State Univeristy</a><a href="https://tjassal.github.io/LabWebsite/tag/landsat/" rel="tag">Landsat</a><a href="https://tjassal.github.io/LabWebsite/tag/ndvi-time-series/" rel="tag">NDVI time series</a><a href="https://tjassal.github.io/LabWebsite/tag/open-access/" rel="tag">open access</a><a href="https://tjassal.github.io/LabWebsite/tag/open-data/" rel="tag">open data</a><a href="https://tjassal.github.io/LabWebsite/tag/open-science/" rel="tag">Open Science</a><a href="https://tjassal.github.io/LabWebsite/tag/raster/" rel="tag">Raster</a><a href="https://tjassal.github.io/LabWebsite/tag/remote-sensing/" rel="tag">remote sensing</a><a href="https://tjassal.github.io/LabWebsite/tag/satellite-imagery/" rel="tag">satellite imagery</a><a href="https://tjassal.github.io/LabWebsite/tag/science-communication/" rel="tag">science communication</a><a href="https://tjassal.github.io/LabWebsite/tag/spatial-ecology/" rel="tag">spatial ecology</a><a href="https://tjassal.github.io/LabWebsite/tag/time-series/" rel="tag">time series</a></span></footer></article><!-- #post-2019 -->

<article id="post-1659" class="post-1659 post type-post status-publish format-standard has-post-thumbnail hentry category-blog-lite tag-aerial-photos tag-cal-poly-university tag-california tag-cloud-computing tag-color-infrared tag-google-earth-engine tag-javascript tag-ndvi-time-series tag-open-science tag-raster tag-remote-sensing tag-san-luis-obispo tag-science-communication tag-spatial-ecology">
	
	<a class="post-thumbnail" href="https://tjassal.github.io/LabWebsite/2018/01/09/a-brief-foray-into-google-earth-engine-calculate-ndvi-from-the-cloud/" aria-hidden="true">
			<img width="672" height="372" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/banner_blend2.jpg?resize=672%2C372&amp;ssl=1" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="A Brief Foray into Google Earth Engine: Calculate NDVI from the Cloud" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/banner_blend2.jpg?resize=672%2C372&amp;ssl=1 672w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/banner_blend2.jpg?resize=1038%2C576&amp;ssl=1 1038w" sizes="(max-width: 672px) 100vw, 672px" />	</a>

			
	<header class="entry-header">
		<h1 class="entry-title"><a href="https://tjassal.github.io/LabWebsite/2018/01/09/a-brief-foray-into-google-earth-engine-calculate-ndvi-from-the-cloud/" rel="bookmark">A Brief Foray into Google Earth Engine: Calculate NDVI from the Cloud</a></h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="https://tjassal.github.io/LabWebsite/2018/01/09/a-brief-foray-into-google-earth-engine-calculate-ndvi-from-the-cloud/" rel="bookmark"><time class="entry-date" datetime="2018-01-09T17:41:11-06:00">January 9, 2018</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://tjassal.github.io/LabWebsite/author/tim-assalgmail-com/" rel="author">tim.assal@gmail.com</a></span></span>			<span class="comments-link"><a href="https://tjassal.github.io/LabWebsite/2018/01/09/a-brief-foray-into-google-earth-engine-calculate-ndvi-from-the-cloud/#respond">Leave a comment</a></span>
						</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p><a href="https://developers.google.com/earth-engine/" target="_blank" rel="noopener">Google Earth Engine</a> (GEE) is a cloud-based platform for planetary-scale environmental data analysis which uses a JavaScript API and an online IDE code editor. In short, you can utilize remotely sensed imagery available in Google&#8217;s cloud to run analyses without downloading the data to your local machine. You&#8217;ll need to sign up as a developer to gain access <a href="https://signup.earthengine.google.com/#!/" target="_blank" rel="noopener">here.</a></p>
<p>Below is an example from an upcoming lecture to the Anthropology and Geography group of the <a href="https://socialsciences.calpoly.edu/" target="_blank" rel="noopener">Social Sciences Department</a> at Cal Poly University. In my talk I showed an example of the Normalized Difference Vegetation Index for Cal Poly&#8217;s campus. Here I&#8217;ll demonstrate the workflow I used to create NDVI using GEE with data from the cloud.</p>
<p>To execute the example below, please download the campus shapefile <a href="https://tjassal.github.io/LabWebsite/wp-content/uploads/2018/01/CalPoly_campus.zip" target="_blank" rel="noopener">here</a> (originally obtained from the <a href="https://afd.calpoly.edu/facilities/mapsplans/cadfiles/map/gis/" target="_blank" rel="noopener">campus website</a>). You&#8217;ll need to upload the shapefile into GEE using these <a href="https://developers.google.com/earth-engine/importing" target="_blank" rel="noopener">instructions</a> (see the &#8220;Uploading table assets&#8221; section) and load the data into your script using these <a href="https://developers.google.com/earth-engine/asset_manager#importing-assets-to-your-script" target="_blank" rel="noopener">instructions</a> (see the &#8220;Importing assets to your script&#8221; section). If you&#8217;d like to run the example without downloading campus data, skip to the second code block below.</p>
<p>Copy and paste the following code into the Code Editor of GEE:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472253027688253" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">JavaScript code for Google Earth Engine</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// Load four 2016 NAIP quarter quads, different locations.
var naip2016 = ee.ImageCollection('USDA/NAIP/DOQQ')
  .filterBounds(ee.Geometry.Rectangle(-120.73857, 35.36587, -120.61841, 35.25408))
  .filterDate('2016-01-01', '2016-12-31');

// Spatially mosaic the images in the collection and display.
var mosaic = naip2016.mosaic();

// Get information about the bands as a list; prints in console at right
var bandNames = mosaic.bandNames();
print('Band names: ', bandNames); 

//Get the projection of Band 1
var b1proj = mosaic.select('B').projection();
print ('Band 1 projection: ', b1proj);

//set map center to Baker Lawn on CP's campus
Map.setCenter(-120.65995, 35.9103, 12);
//display natural color
Map.addLayer(mosaic, {bands: ['R', 'G', 'B']}, 'NAIP DOQQ'); 
//display false color IR
//Map.addLayer(mosaic, {bands: ['N', 'R', 'G']}, 'NAIP DOQQ');  

// Caculate NDVI.
var ndvi = mosaic.normalizedDifference(['N', 'R']);

// Display the result using a color ramp: dark red, red, orange, yellow, lime, green, dark green
var ndviParams = {min: -1, max: 1, palette: ['8B0000','FF0000', 'FF4500', 'FFFF00', '00FF00','008000', '006400']};

// Clip NDVI to campus boundary and add to map
Map.setCenter(-120.65995, 35.31203, 13);
Map.addLayer(ndvi.clip(table), ndviParams);

//Display the outline of campus as a black line, no fill
// Create an empty image into which to paint the features, cast to byte.
var empty = ee.Image().byte();

// Paint all the polygon edges with the same number and width, display.
var outline = empty.paint({
  featureCollection: table,
  color: 1,
  width: 1
});
Map.addLayer(outline, {palette: '000000'}, 'edges');</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472253027688253-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-2">2</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-4">4</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-6">6</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-8">8</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-10">10</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-12">12</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-14">14</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-16">16</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-18">18</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-20">20</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-22">22</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-24">24</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-26">26</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-28">28</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-30">30</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-32">32</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-34">34</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-36">36</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-38">38</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-40">40</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-42">42</div><div class="crayon-num" data-line="crayon-5f21836472253027688253-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472253027688253-44">44</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472253027688253-1"><span class="crayon-c">// Load four 2016 NAIP quarter quads, different locations.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">naip2016</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ee</span><span class="crayon-sy">.</span><span class="crayon-e">ImageCollection</span><span class="crayon-sy">(</span><span class="crayon-s">'USDA/NAIP/DOQQ'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filterBounds</span><span class="crayon-sy">(</span><span class="crayon-v">ee</span><span class="crayon-sy">.</span><span class="crayon-v">Geometry</span><span class="crayon-sy">.</span><span class="crayon-e">Rectangle</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">120.73857</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">35.36587</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">120.61841</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">35.25408</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filterDate</span><span class="crayon-sy">(</span><span class="crayon-s">'2016-01-01'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'2016-12-31'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-6"><span class="crayon-c">// Spatially mosaic the images in the collection and display.</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-7"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">mosaic</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">naip2016</span><span class="crayon-sy">.</span><span class="crayon-e">mosaic</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-8">&nbsp;</div><div class="crayon-line" id="crayon-5f21836472253027688253-9"><span class="crayon-c">// Get information about the bands as a list; prints in console at right</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-10"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bandNames</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mosaic</span><span class="crayon-sy">.</span><span class="crayon-e">bandNames</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-11"><span class="crayon-r">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Band names: '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">bandNames</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-12">&nbsp;</div><div class="crayon-line" id="crayon-5f21836472253027688253-13"><span class="crayon-c">//Get the projection of Band 1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-14"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">b1proj</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mosaic</span><span class="crayon-sy">.</span><span class="crayon-e">select</span><span class="crayon-sy">(</span><span class="crayon-s">'B'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">projection</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-15"><span class="crayon-r">print</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Band 1 projection: '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">b1proj</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-16">&nbsp;</div><div class="crayon-line" id="crayon-5f21836472253027688253-17"><span class="crayon-c">//set map center to Baker Lawn on CP's campus</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-18"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">setCenter</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">120.65995</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">35.9103</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-19"><span class="crayon-c">//display natural color</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-20"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">addLayer</span><span class="crayon-sy">(</span><span class="crayon-v">mosaic</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">bands</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'R'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'G'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'B'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'NAIP DOQQ'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5f21836472253027688253-21"><span class="crayon-c">//display false color IR</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-22"><span class="crayon-c">//Map.addLayer(mosaic, {bands: ['N', 'R', 'G']}, 'NAIP DOQQ');&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-23">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-24"><span class="crayon-c">// Caculate NDVI.</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-25"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ndvi</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mosaic</span><span class="crayon-sy">.</span><span class="crayon-e">normalizedDifference</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-s">'N'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'R'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-26">&nbsp;</div><div class="crayon-line" id="crayon-5f21836472253027688253-27"><span class="crayon-c">// Display the result using a color ramp: dark red, red, orange, yellow, lime, green, dark green</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-28"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ndviParams</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">min</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">max</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">palette</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'8B0000'</span><span class="crayon-sy">,</span><span class="crayon-s">'FF0000'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'FF4500'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'FFFF00'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'00FF00'</span><span class="crayon-sy">,</span><span class="crayon-s">'008000'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'006400'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-30"><span class="crayon-c">// Clip NDVI to campus boundary and add to map</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-31"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">setCenter</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">120.65995</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">35.31203</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">13</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-32"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">addLayer</span><span class="crayon-sy">(</span><span class="crayon-v">ndvi</span><span class="crayon-sy">.</span><span class="crayon-e">clip</span><span class="crayon-sy">(</span><span class="crayon-v">table</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ndviParams</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-34"><span class="crayon-c">//Display the outline of campus as a black line, no fill</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-35"><span class="crayon-c">// Create an empty image into which to paint the features, cast to byte.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-36"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">empty</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ee</span><span class="crayon-sy">.</span><span class="crayon-e">Image</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-t">byte</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-38"><span class="crayon-c">// Paint all the polygon edges with the same number and width, display.</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-39"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">outline</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">empty</span><span class="crayon-sy">.</span><span class="crayon-e">paint</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-40"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">featureCollection</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">table</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-41"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">color</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-42"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">width</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5f21836472253027688253-43"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472253027688253-44"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">addLayer</span><span class="crayon-sy">(</span><span class="crayon-v">outline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">palette</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'000000'</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'edges'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0020 seconds] -->
<p><figure id="attachment_1689" aria-describedby="caption-attachment-1689" style="width: 474px" class="wp-caption aligncenter"><a href="https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/NDVI_CalPoly_whbck.jpg" target="_blank" rel="noopener"><img class="wp-image-1689 size-large" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/NDVI_CalPoly_whbck.jpg?resize=474%2C383" alt="" width="474" height="383" srcset="https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/NDVI_CalPoly_whbck.jpg?resize=1024%2C828&amp;ssl=1 1024w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/NDVI_CalPoly_whbck.jpg?resize=300%2C243&amp;ssl=1 300w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/NDVI_CalPoly_whbck.jpg?resize=768%2C621&amp;ssl=1 768w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/NDVI_CalPoly_whbck.jpg?w=1119&amp;ssl=1 1119w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/NDVI_CalPoly_whbck.jpg?w=948 948w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-1689" class="wp-caption-text">NDVI derived from color-infrared aerial photos for Cal Poly&#8217;s campus. The code block above will produce this image in Google Earth Engine. Dark green pixels indicate high values of NDVI; orange/red pixels indicate low values; grey pixels indicate a mask (values below -0.25).</figcaption></figure></p>
<p>The code below does not require download of any campus data; however, it will calculate NDVI over the entire extent as opposed to the campus extent in the example above. Copy and paste the following code into the Code Editor of GEE:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f2183647225b728807181" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Code for Google Earth Engine</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// Load four 2016 NAIP quarter quads, different locations.
var naip2016 = ee.ImageCollection('USDA/NAIP/DOQQ')
  .filterBounds(ee.Geometry.Rectangle(-120.73857, 35.36587, -120.61841, 35.25408))
  .filterDate('2016-01-01', '2016-12-31');

// Spatially mosaic the images in the collection and display.
var mosaic = naip2016.mosaic();

// Get information about the bands as a list; prints in console at right
var bandNames = mosaic.bandNames();
print('Band names: ', bandNames); 

//Get the projection of Band 1
var b1proj = mosaic.select('B').projection();
print ('Band 1 projection: ', b1proj);

//set map center to Baker Lawn on CP's campus
Map.setCenter(-120.65995, 35.9103, 12);
//display natural color
Map.addLayer(mosaic, {bands: ['R', 'G', 'B']}, 'NAIP DOQQ'); 
//display false color IR

// Caculate NDVI.
var ndvi = mosaic.normalizedDifference(['N', 'R']);

// Display the result using a color ramp: dark red, red, orange, yellow, lime, green, dark green
var ndviParams = {min: -1, max: 1, palette: ['8B0000','FF0000', 'FF4500', 'FFFF00', '00FF00','008000', '006400']};
//Map.addLayer(ndvi, ndviParams, 'NDVI image');

// Add NDVI to map
Map.setCenter(-120.65995, 35.31203, 13);
Map.addLayer(ndvi, ndviParams);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f2183647225b728807181-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-2">2</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-4">4</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-6">6</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-8">8</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-10">10</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-12">12</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-14">14</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-16">16</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-18">18</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-20">20</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-22">22</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-24">24</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-26">26</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-28">28</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-30">30</div><div class="crayon-num" data-line="crayon-5f2183647225b728807181-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647225b728807181-32">32</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f2183647225b728807181-1"><span class="crayon-c">// Load four 2016 NAIP quarter quads, different locations.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-2"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">naip2016</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ee</span><span class="crayon-sy">.</span><span class="crayon-e">ImageCollection</span><span class="crayon-sy">(</span><span class="crayon-s">'USDA/NAIP/DOQQ'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filterBounds</span><span class="crayon-sy">(</span><span class="crayon-v">ee</span><span class="crayon-sy">.</span><span class="crayon-v">Geometry</span><span class="crayon-sy">.</span><span class="crayon-e">Rectangle</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">120.73857</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">35.36587</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">120.61841</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">35.25408</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-4"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">.</span><span class="crayon-e">filterDate</span><span class="crayon-sy">(</span><span class="crayon-s">'2016-01-01'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'2016-12-31'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-6"><span class="crayon-c">// Spatially mosaic the images in the collection and display.</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-7"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">mosaic</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">naip2016</span><span class="crayon-sy">.</span><span class="crayon-e">mosaic</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-8">&nbsp;</div><div class="crayon-line" id="crayon-5f2183647225b728807181-9"><span class="crayon-c">// Get information about the bands as a list; prints in console at right</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-10"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bandNames</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mosaic</span><span class="crayon-sy">.</span><span class="crayon-e">bandNames</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-11"><span class="crayon-r">print</span><span class="crayon-sy">(</span><span class="crayon-s">'Band names: '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">bandNames</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-12">&nbsp;</div><div class="crayon-line" id="crayon-5f2183647225b728807181-13"><span class="crayon-c">//Get the projection of Band 1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-14"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">b1proj</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mosaic</span><span class="crayon-sy">.</span><span class="crayon-e">select</span><span class="crayon-sy">(</span><span class="crayon-s">'B'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">projection</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-15"><span class="crayon-r">print</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">'Band 1 projection: '</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">b1proj</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-16">&nbsp;</div><div class="crayon-line" id="crayon-5f2183647225b728807181-17"><span class="crayon-c">//set map center to Baker Lawn on CP's campus</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-18"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">setCenter</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">120.65995</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">35.9103</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">12</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-19"><span class="crayon-c">//display natural color</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-20"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">addLayer</span><span class="crayon-sy">(</span><span class="crayon-v">mosaic</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">bands</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'R'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'G'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'B'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'NAIP DOQQ'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-21"><span class="crayon-c">//display false color IR</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-22">&nbsp;</div><div class="crayon-line" id="crayon-5f2183647225b728807181-23"><span class="crayon-c">// Caculate NDVI.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-24"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ndvi</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">mosaic</span><span class="crayon-sy">.</span><span class="crayon-e">normalizedDifference</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-s">'N'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'R'</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-26"><span class="crayon-c">// Display the result using a color ramp: dark red, red, orange, yellow, lime, green, dark green</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-27"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ndviParams</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">min</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">max</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">palette</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-s">'8B0000'</span><span class="crayon-sy">,</span><span class="crayon-s">'FF0000'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'FF4500'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'FFFF00'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'00FF00'</span><span class="crayon-sy">,</span><span class="crayon-s">'008000'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'006400'</span><span class="crayon-sy">]</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-28"><span class="crayon-c">//Map.addLayer(ndvi, ndviParams, 'NDVI image');</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-30"><span class="crayon-c">// Add NDVI to map</span></div><div class="crayon-line" id="crayon-5f2183647225b728807181-31"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">setCenter</span><span class="crayon-sy">(</span><span class="crayon-o">-</span><span class="crayon-cn">120.65995</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">35.31203</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">13</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647225b728807181-32"><span class="crayon-v">Map</span><span class="crayon-sy">.</span><span class="crayon-e">addLayer</span><span class="crayon-sy">(</span><span class="crayon-v">ndvi</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ndviParams</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0012 seconds] -->
<p>&nbsp;</p>
<p>&nbsp;</p>
<div class="twttr_buttons">
<div class="twttr_twitter">
					<a href="http://twitter.com/share?text=A+Brief+Foray+into+Google+Earth+Engine%3A+Calculate+NDVI+from+the+Cloud" class="twitter-share-button" data-via="" data-hashtags=""  data-size="default" data-url="https://tjassal.github.io/LabWebsite/2018/01/09/a-brief-foray-into-google-earth-engine-calculate-ndvi-from-the-cloud/"  data-related="" target="_blank">Tweet</a>
				</div>
</div>
	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="https://tjassal.github.io/LabWebsite/tag/aerial-photos/" rel="tag">aerial photos</a><a href="https://tjassal.github.io/LabWebsite/tag/cal-poly-university/" rel="tag">Cal Poly University</a><a href="https://tjassal.github.io/LabWebsite/tag/california/" rel="tag">California</a><a href="https://tjassal.github.io/LabWebsite/tag/cloud-computing/" rel="tag">Cloud computing</a><a href="https://tjassal.github.io/LabWebsite/tag/color-infrared/" rel="tag">color-infrared</a><a href="https://tjassal.github.io/LabWebsite/tag/google-earth-engine/" rel="tag">Google Earth Engine</a><a href="https://tjassal.github.io/LabWebsite/tag/javascript/" rel="tag">JavaScript</a><a href="https://tjassal.github.io/LabWebsite/tag/ndvi-time-series/" rel="tag">NDVI time series</a><a href="https://tjassal.github.io/LabWebsite/tag/open-science/" rel="tag">Open Science</a><a href="https://tjassal.github.io/LabWebsite/tag/raster/" rel="tag">Raster</a><a href="https://tjassal.github.io/LabWebsite/tag/remote-sensing/" rel="tag">remote sensing</a><a href="https://tjassal.github.io/LabWebsite/tag/san-luis-obispo/" rel="tag">San Luis Obispo</a><a href="https://tjassal.github.io/LabWebsite/tag/science-communication/" rel="tag">science communication</a><a href="https://tjassal.github.io/LabWebsite/tag/spatial-ecology/" rel="tag">spatial ecology</a></span></footer></article><!-- #post-1659 -->

<article id="post-1665" class="post-1665 post type-post status-publish format-standard has-post-thumbnail hentry category-blog-lite tag-cal-poly-university tag-california tag-california-drought tag-data-visualization tag-dataviz tag-drought tag-emodis tag-modis tag-ndvi-time-series tag-open-science tag-raster tag-remote-sensing tag-san-luis-obispo tag-satellite-imagery tag-science-communication">
	
	<a class="post-thumbnail" href="https://tjassal.github.io/LabWebsite/2018/01/02/rasterviz-in-r-drought-anomalies-on-californias-central-coast/" aria-hidden="true">
			<img width="672" height="372" src="https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/modis.jpg?resize=672%2C372&amp;ssl=1" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="RasterViz in R: Drought Anomalies on California&#8217;s Central Coast" srcset="https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/modis.jpg?resize=672%2C372&amp;ssl=1 672w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/modis.jpg?resize=1038%2C576&amp;ssl=1 1038w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/modis.jpg?zoom=2&amp;resize=672%2C372 1344w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/modis.jpg?zoom=3&amp;resize=672%2C372 2016w" sizes="(max-width: 672px) 100vw, 672px" />	</a>

			
	<header class="entry-header">
		<h1 class="entry-title"><a href="https://tjassal.github.io/LabWebsite/2018/01/02/rasterviz-in-r-drought-anomalies-on-californias-central-coast/" rel="bookmark">RasterViz in R: Drought Anomalies on California&#8217;s Central Coast</a></h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="https://tjassal.github.io/LabWebsite/2018/01/02/rasterviz-in-r-drought-anomalies-on-californias-central-coast/" rel="bookmark"><time class="entry-date" datetime="2018-01-02T17:37:19-06:00">January 2, 2018</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://tjassal.github.io/LabWebsite/author/tim-assalgmail-com/" rel="author">tim.assal@gmail.com</a></span></span>			<span class="comments-link"><a href="https://tjassal.github.io/LabWebsite/2018/01/02/rasterviz-in-r-drought-anomalies-on-californias-central-coast/#respond">Leave a comment</a></span>
						</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p>Below is a brief example of raster visualization in R. It is a more thorough explanation of an example of rasterVIS that I will use in an upcoming lecture to the Anthropology and Geography group of the <a href="https://socialsciences.calpoly.edu/" target="_blank" rel="noopener">Social Sciences Department</a> at Cal Poly University. The goal is to gain a brief understanding on vegetation productivity dynamics in the vicinity of San Luis Obispo and the Central Coast using remote sensing and R. I&#8217;ve selected 17 HUC 10 watersheds from the <a href="https://nhd.usgs.gov/" target="_blank" rel="noopener">National Hydrography Dataset</a> as the area of interest.</p>
<p>We know when the drought hit at a statewide level from the <a href="http://droughtmonitor.unl.edu/" target="_blank" rel="noopener">US Drought Monitor</a>. Now let&#8217;s use satellite data and R to visualize the drought at a local scale using a reproducible example in R.</p>
<p><figure id="attachment_1676" aria-describedby="caption-attachment-1676" style="width: 474px" class="wp-caption aligncenter"><a href="https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/UNL_CA_drought-1.jpg" target="_blank" rel="noopener"><img class="wp-image-1676 size-large" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/UNL_CA_drought-1.jpg?resize=474%2C185" alt="" width="474" height="185" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/UNL_CA_drought-1.jpg?resize=1024%2C399&amp;ssl=1 1024w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/UNL_CA_drought-1.jpg?resize=300%2C117&amp;ssl=1 300w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/UNL_CA_drought-1.jpg?resize=768%2C299&amp;ssl=1 768w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/UNL_CA_drought-1.jpg?w=948 948w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/UNL_CA_drought-1.jpg?w=1422 1422w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-1676" class="wp-caption-text">Data from US Drought Monitoring Center indicates the Central Coast did not experience drought conditions in mid-August of 2006 (left); whereas it experienced exceptional drought in mid-August of 2014 (right).</figcaption></figure></p>
<p>I used <a href="https://lta.cr.usgs.gov/emodis" target="_blank" rel="noopener">eMODIS</a> (EROS Moderate Resolution Imaging Spectroradiometer) data to characterize the NDVI derived productivity of the AOI during the month of August. eMODIS is a standardized product which uses MODIS surface reflectance from a 7-day composite period (Brown et al. 2015). I used all eMODIS images from August during the period 2000 through 2016 to calculate the 17-year August mean. I then calculated August productivity anomalies for a dry year (2014) and an average year (2006) to identify the spatial and temporal variability in productivity within the watershed.</p>
<p>To execute the example below, please download the data <a href="https://tjassal.github.io/LabWebsite/wp-content/uploads/2018/01/SLO_Data.zip" target="_blank" rel="noopener">here.</a> I have not included the base data or code to calculate the global mean and annual anomalies.</p>
<p>Load the required packages in R (note: the Rcolorbrewer library is loaded with the <a href="https://oscarperpinan.github.io/rastervis/" target="_blank" rel="noopener">rasterVis</a> library).</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472578103168898" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Load libraries</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
library(rgdal)   #Geospatial Data Abstraction Library
library(raster)  #Geographic data analysis &amp; modeling Lib
library(rasterVis) #Raster Visualization library</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472578103168898-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472578103168898-2">2</div><div class="crayon-num" data-line="crayon-5f21836472578103168898-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472578103168898-1"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">rgdal</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">#Geospatial Data Abstraction Library</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472578103168898-2"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">raster</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">#Geographic data analysis &amp; modeling Lib</span></div><div class="crayon-line" id="crayon-5f21836472578103168898-3"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">rasterVis</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">#Raster Visualization library</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Load the required data:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472581299056026" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Load required data</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#load .shp (proj is the same as the raster data)
huc.shp &lt;- readOGR(".", "SLO_HUC10_LEA")

#load raster data
Global.mean.August&lt;-raster("August_GLOBAL_MEAN.tif")
August.2006.Z&lt;-raster("August_2006_Z.tif")
August.2014.Z&lt;-raster("August_2014_Z.tif")</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472581299056026-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472581299056026-2">2</div><div class="crayon-num" data-line="crayon-5f21836472581299056026-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472581299056026-4">4</div><div class="crayon-num" data-line="crayon-5f21836472581299056026-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472581299056026-6">6</div><div class="crayon-num" data-line="crayon-5f21836472581299056026-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472581299056026-1"><span class="crayon-c">#load .shp (proj is the same as the raster data)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472581299056026-2"><span class="crayon-v">huc</span><span class="crayon-sy">.</span><span class="crayon-v">shp</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">readOGR</span><span class="crayon-sy">(</span><span class="crayon-s">"."</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"SLO_HUC10_LEA"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472581299056026-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472581299056026-4"><span class="crayon-c">#load raster data</span></div><div class="crayon-line" id="crayon-5f21836472581299056026-5"><span class="crayon-v">Global</span><span class="crayon-sy">.</span><span class="crayon-v">mean</span><span class="crayon-sy">.</span><span class="crayon-v">August</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-s">"August_GLOBAL_MEAN.tif"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472581299056026-6"><span class="crayon-v">August</span><span class="crayon-sy">.</span><span class="crayon-cn">2006.Z</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-s">"August_2006_Z.tif"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472581299056026-7"><span class="crayon-v">August</span><span class="crayon-sy">.</span><span class="crayon-cn">2014.Z</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-s">"August_2014_Z.tif"</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Plot the mean productivity for August (2000-2016):</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472584067770659" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#plot mean August NDVI 2000-2016
# set a color ramp of yellow to green
cols &lt;- colorRampPalette(brewer.pal(9,"YlGn"))
# create a level plot - for Mean August NDVI
p&lt;-levelplot(Global.mean.August,main="Average August Productivity (NDVI; 2000-2016)",
             col.regions=cols)
# overlay the spatialpolygonsdataframe
map.overlay&lt;-p+layer(sp.lines(huc.shp, lwd=1, col='black'))
#plot the data
plot(map.overlay)

#export graphic
jpeg("Global_mean_August.jpg",width=8,height=8,units="in",res=1200)
plot(map.overlay)
dev.off() # turn off png device</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472584067770659-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472584067770659-2">2</div><div class="crayon-num" data-line="crayon-5f21836472584067770659-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472584067770659-4">4</div><div class="crayon-num" data-line="crayon-5f21836472584067770659-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472584067770659-6">6</div><div class="crayon-num" data-line="crayon-5f21836472584067770659-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472584067770659-8">8</div><div class="crayon-num" data-line="crayon-5f21836472584067770659-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472584067770659-10">10</div><div class="crayon-num" data-line="crayon-5f21836472584067770659-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472584067770659-12">12</div><div class="crayon-num" data-line="crayon-5f21836472584067770659-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472584067770659-14">14</div><div class="crayon-num" data-line="crayon-5f21836472584067770659-15">15</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472584067770659-1"><span class="crayon-c">#plot mean August NDVI 2000-2016</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472584067770659-2"><span class="crayon-c"># set a color ramp of yellow to green</span></div><div class="crayon-line" id="crayon-5f21836472584067770659-3"><span class="crayon-v">cols</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">colorRampPalette</span><span class="crayon-sy">(</span><span class="crayon-v">brewer</span><span class="crayon-sy">.</span><span class="crayon-e">pal</span><span class="crayon-sy">(</span><span class="crayon-cn">9</span><span class="crayon-sy">,</span><span class="crayon-s">"YlGn"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472584067770659-4"><span class="crayon-c"># create a level plot - for Mean August NDVI</span></div><div class="crayon-line" id="crayon-5f21836472584067770659-5"><span class="crayon-v">p</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">levelplot</span><span class="crayon-sy">(</span><span class="crayon-v">Global</span><span class="crayon-sy">.</span><span class="crayon-v">mean</span><span class="crayon-sy">.</span><span class="crayon-v">August</span><span class="crayon-sy">,</span><span class="crayon-v">main</span><span class="crayon-o">=</span><span class="crayon-s">"Average August Productivity (NDVI; 2000-2016)"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472584067770659-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">col</span><span class="crayon-sy">.</span><span class="crayon-v">regions</span><span class="crayon-o">=</span><span class="crayon-v">cols</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472584067770659-7"><span class="crayon-c"># overlay the spatialpolygonsdataframe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472584067770659-8"><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-o">+</span><span class="crayon-e">layer</span><span class="crayon-sy">(</span><span class="crayon-v">sp</span><span class="crayon-sy">.</span><span class="crayon-e">lines</span><span class="crayon-sy">(</span><span class="crayon-v">huc</span><span class="crayon-sy">.</span><span class="crayon-v">shp</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lwd</span><span class="crayon-o">=</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">col</span><span class="crayon-o">=</span><span class="crayon-s">'black'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472584067770659-9"><span class="crayon-c">#plot the data</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472584067770659-10"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472584067770659-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472584067770659-12"><span class="crayon-c">#export graphic</span></div><div class="crayon-line" id="crayon-5f21836472584067770659-13"><span class="crayon-e">jpeg</span><span class="crayon-sy">(</span><span class="crayon-s">"Global_mean_August.jpg"</span><span class="crayon-sy">,</span><span class="crayon-v">width</span><span class="crayon-o">=</span><span class="crayon-cn">8</span><span class="crayon-sy">,</span><span class="crayon-v">height</span><span class="crayon-o">=</span><span class="crayon-cn">8</span><span class="crayon-sy">,</span><span class="crayon-v">units</span><span class="crayon-o">=</span><span class="crayon-s">"in"</span><span class="crayon-sy">,</span><span class="crayon-v">res</span><span class="crayon-o">=</span><span class="crayon-cn">1200</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472584067770659-14"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472584067770659-15"><span class="crayon-v">dev</span><span class="crayon-sy">.</span><span class="crayon-e">off</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c"># turn off png device</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0005 seconds] -->
<p><figure id="attachment_1681" aria-describedby="caption-attachment-1681" style="width: 474px" class="wp-caption aligncenter"><a href="https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/Global_mean_August.jpg" target="_blank" rel="noopener"><img class="wp-image-1681 size-large" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/Global_mean_August.jpg?resize=474%2C474" alt="" width="474" height="474" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/Global_mean_August.jpg?resize=1024%2C1024&amp;ssl=1 1024w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/Global_mean_August.jpg?resize=150%2C150&amp;ssl=1 150w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/Global_mean_August.jpg?resize=300%2C300&amp;ssl=1 300w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/Global_mean_August.jpg?resize=768%2C768&amp;ssl=1 768w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/Global_mean_August.jpg?w=948 948w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2018/01/Global_mean_August.jpg?w=1422 1422w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-1681" class="wp-caption-text">Note: the NDVI values are scaled by a value of 10000. The gray graphics along the top and left axes represent the mean of the row (right) and column (top) values.</figcaption></figure></p>
<p>Plot the 2014 and 2006 August productivity anomalies:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472585895532556" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#plot Aug 2014 anomaly (dry year)
# set a color ramp of red to blue
cols &lt;- colorRampPalette(brewer.pal(9,"RdBu"))
p&lt;-levelplot(August.2014.Z,main="August 2014 NDVI Anomaly",
             col.regions=cols)
map.overlay&lt;-p+layer(sp.lines(huc.shp, lwd=1, col='black'))
plot(map.overlay)

#export graphic
jpeg("Aug2014_Anomaly.jpg",width=8,height=8,units="in",res=1200)
plot(map.overlay)
dev.off() # turn off png device

#plot Aug 2006 anomaly (average year)
cols &lt;- colorRampPalette(brewer.pal(9,"RdBu"))
p&lt;-levelplot(August.2006.Z,main="August 2006 NDVI Anomaly",
             col.regions=cols)
map.overlay&lt;-p+layer(sp.lines(huc.shp, lwd=1, col='black'))
plot(map.overlay)

#export graphic
jpeg("Aug2006_Anomaly.jpg",width=8,height=8,units="in",res=1200)
plot(map.overlay)
dev.off() # turn off png device</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472585895532556-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-2">2</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-4">4</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-6">6</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-8">8</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-10">10</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-12">12</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-14">14</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-16">16</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-18">18</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-20">20</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-22">22</div><div class="crayon-num" data-line="crayon-5f21836472585895532556-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472585895532556-24">24</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472585895532556-1"><span class="crayon-c">#plot Aug 2014 anomaly (dry year)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-2"><span class="crayon-c"># set a color ramp of red to blue</span></div><div class="crayon-line" id="crayon-5f21836472585895532556-3"><span class="crayon-v">cols</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">colorRampPalette</span><span class="crayon-sy">(</span><span class="crayon-v">brewer</span><span class="crayon-sy">.</span><span class="crayon-e">pal</span><span class="crayon-sy">(</span><span class="crayon-cn">9</span><span class="crayon-sy">,</span><span class="crayon-s">"RdBu"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-4"><span class="crayon-v">p</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">levelplot</span><span class="crayon-sy">(</span><span class="crayon-v">August</span><span class="crayon-sy">.</span><span class="crayon-cn">2014.Z</span><span class="crayon-sy">,</span><span class="crayon-v">main</span><span class="crayon-o">=</span><span class="crayon-s">"August 2014 NDVI Anomaly"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5f21836472585895532556-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">col</span><span class="crayon-sy">.</span><span class="crayon-v">regions</span><span class="crayon-o">=</span><span class="crayon-v">cols</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-6"><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-o">+</span><span class="crayon-e">layer</span><span class="crayon-sy">(</span><span class="crayon-v">sp</span><span class="crayon-sy">.</span><span class="crayon-e">lines</span><span class="crayon-sy">(</span><span class="crayon-v">huc</span><span class="crayon-sy">.</span><span class="crayon-v">shp</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lwd</span><span class="crayon-o">=</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">col</span><span class="crayon-o">=</span><span class="crayon-s">'black'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472585895532556-7"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-8">&nbsp;</div><div class="crayon-line" id="crayon-5f21836472585895532556-9"><span class="crayon-c">#export graphic</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-10"><span class="crayon-e">jpeg</span><span class="crayon-sy">(</span><span class="crayon-s">"Aug2014_Anomaly.jpg"</span><span class="crayon-sy">,</span><span class="crayon-v">width</span><span class="crayon-o">=</span><span class="crayon-cn">8</span><span class="crayon-sy">,</span><span class="crayon-v">height</span><span class="crayon-o">=</span><span class="crayon-cn">8</span><span class="crayon-sy">,</span><span class="crayon-v">units</span><span class="crayon-o">=</span><span class="crayon-s">"in"</span><span class="crayon-sy">,</span><span class="crayon-v">res</span><span class="crayon-o">=</span><span class="crayon-cn">1200</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472585895532556-11"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-12"><span class="crayon-v">dev</span><span class="crayon-sy">.</span><span class="crayon-e">off</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c"># turn off png device</span></div><div class="crayon-line" id="crayon-5f21836472585895532556-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-14"><span class="crayon-c">#plot Aug 2006 anomaly (average year)</span></div><div class="crayon-line" id="crayon-5f21836472585895532556-15"><span class="crayon-v">cols</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">colorRampPalette</span><span class="crayon-sy">(</span><span class="crayon-v">brewer</span><span class="crayon-sy">.</span><span class="crayon-e">pal</span><span class="crayon-sy">(</span><span class="crayon-cn">9</span><span class="crayon-sy">,</span><span class="crayon-s">"RdBu"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-16"><span class="crayon-v">p</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">levelplot</span><span class="crayon-sy">(</span><span class="crayon-v">August</span><span class="crayon-sy">.</span><span class="crayon-cn">2006.Z</span><span class="crayon-sy">,</span><span class="crayon-v">main</span><span class="crayon-o">=</span><span class="crayon-s">"August 2006 NDVI Anomaly"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5f21836472585895532556-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">col</span><span class="crayon-sy">.</span><span class="crayon-v">regions</span><span class="crayon-o">=</span><span class="crayon-v">cols</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-18"><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-o">+</span><span class="crayon-e">layer</span><span class="crayon-sy">(</span><span class="crayon-v">sp</span><span class="crayon-sy">.</span><span class="crayon-e">lines</span><span class="crayon-sy">(</span><span class="crayon-v">huc</span><span class="crayon-sy">.</span><span class="crayon-v">shp</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lwd</span><span class="crayon-o">=</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">col</span><span class="crayon-o">=</span><span class="crayon-s">'black'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472585895532556-19"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-20">&nbsp;</div><div class="crayon-line" id="crayon-5f21836472585895532556-21"><span class="crayon-c">#export graphic</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-22"><span class="crayon-e">jpeg</span><span class="crayon-sy">(</span><span class="crayon-s">"Aug2006_Anomaly.jpg"</span><span class="crayon-sy">,</span><span class="crayon-v">width</span><span class="crayon-o">=</span><span class="crayon-cn">8</span><span class="crayon-sy">,</span><span class="crayon-v">height</span><span class="crayon-o">=</span><span class="crayon-cn">8</span><span class="crayon-sy">,</span><span class="crayon-v">units</span><span class="crayon-o">=</span><span class="crayon-s">"in"</span><span class="crayon-sy">,</span><span class="crayon-v">res</span><span class="crayon-o">=</span><span class="crayon-cn">1200</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472585895532556-23"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472585895532556-24"><span class="crayon-v">dev</span><span class="crayon-sy">.</span><span class="crayon-e">off</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c"># turn off png device</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0010 seconds] -->
<p><a href="https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2014_Anomaly.jpg" target="_blank" rel="noopener"><img class="aligncenter wp-image-1680 size-large" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2014_Anomaly.jpg?resize=474%2C474" alt="" width="474" height="474" srcset="https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2014_Anomaly.jpg?resize=1024%2C1024&amp;ssl=1 1024w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2014_Anomaly.jpg?resize=150%2C150&amp;ssl=1 150w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2014_Anomaly.jpg?resize=300%2C300&amp;ssl=1 300w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2014_Anomaly.jpg?resize=768%2C768&amp;ssl=1 768w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2014_Anomaly.jpg?w=948 948w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2014_Anomaly.jpg?w=1422 1422w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a></p>
<p><figure id="attachment_1679" aria-describedby="caption-attachment-1679" style="width: 474px" class="wp-caption aligncenter"><a href="https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2006_Anomaly.jpg" target="_blank" rel="noopener"><img class="wp-image-1679 size-large" src="https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2006_Anomaly.jpg?resize=474%2C474" alt="" width="474" height="474" srcset="https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2006_Anomaly.jpg?resize=1024%2C1024&amp;ssl=1 1024w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2006_Anomaly.jpg?resize=150%2C150&amp;ssl=1 150w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2006_Anomaly.jpg?resize=300%2C300&amp;ssl=1 300w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2006_Anomaly.jpg?resize=768%2C768&amp;ssl=1 768w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2006_Anomaly.jpg?w=948 948w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2018/01/Aug2006_Anomaly.jpg?w=1422 1422w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-1679" class="wp-caption-text">Compare drought-year anomalies (top) with average-year anomalies (bottom). The anomalies are analogous to Z-scores and were calculated as the deviation from mean, normalized by the standard deviation. These maps clearly indicate that the majority of the area experienced very strong negative anomalies (dark red) in 2014 and a mix of positive (blue) and subtle negative anomalies (light red) in 2006.</figcaption></figure></p>
<p><strong>Literature Cited</strong></p>
<p>Brown, J. F., D. Howard, B. Wylie, A. Frieze, L. Ji, and C. Gacke. 2015. Application-ready expedited MODIS data for operational land surface monitoring of vegetation condition. Remote Sensing 7:16226–16240.</p>
<p><em>*Banner image: MODIS image of central California from <a href="https://earthobservatory.nasa.gov/IOTD/view.php?id=91379" target="_blank" rel="noopener">NASA Earth Observatory.</a></em></p>
<div class="twttr_buttons">
<div class="twttr_twitter">
					<a href="http://twitter.com/share?text=RasterViz+in+R%3A+Drought+Anomalies+on+California%27s+Central+Coast" class="twitter-share-button" data-via="" data-hashtags=""  data-size="default" data-url="https://tjassal.github.io/LabWebsite/2018/01/02/rasterviz-in-r-drought-anomalies-on-californias-central-coast/"  data-related="" target="_blank">Tweet</a>
				</div>
</div>
	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="https://tjassal.github.io/LabWebsite/tag/cal-poly-university/" rel="tag">Cal Poly University</a><a href="https://tjassal.github.io/LabWebsite/tag/california/" rel="tag">California</a><a href="https://tjassal.github.io/LabWebsite/tag/california-drought/" rel="tag">California drought</a><a href="https://tjassal.github.io/LabWebsite/tag/data-visualization/" rel="tag">Data Visualization</a><a href="https://tjassal.github.io/LabWebsite/tag/dataviz/" rel="tag">DataViz</a><a href="https://tjassal.github.io/LabWebsite/tag/drought/" rel="tag">drought</a><a href="https://tjassal.github.io/LabWebsite/tag/emodis/" rel="tag">eMODIS</a><a href="https://tjassal.github.io/LabWebsite/tag/modis/" rel="tag">MODIS</a><a href="https://tjassal.github.io/LabWebsite/tag/ndvi-time-series/" rel="tag">NDVI time series</a><a href="https://tjassal.github.io/LabWebsite/tag/open-science/" rel="tag">Open Science</a><a href="https://tjassal.github.io/LabWebsite/tag/raster/" rel="tag">Raster</a><a href="https://tjassal.github.io/LabWebsite/tag/remote-sensing/" rel="tag">remote sensing</a><a href="https://tjassal.github.io/LabWebsite/tag/san-luis-obispo/" rel="tag">San Luis Obispo</a><a href="https://tjassal.github.io/LabWebsite/tag/satellite-imagery/" rel="tag">satellite imagery</a><a href="https://tjassal.github.io/LabWebsite/tag/science-communication/" rel="tag">science communication</a></span></footer></article><!-- #post-1665 -->

<article id="post-1628" class="post-1628 post type-post status-publish format-standard has-post-thumbnail hentry category-blog-lite tag-drought tag-ecosystem-disturbance tag-modis tag-ndvi-time-series tag-normalized-difference-moisture-index tag-open-data tag-open-science tag-raster tag-remote-sensing tag-sagebrush-steppe tag-wlci tag-wyoming tag-wyoming-landscape-conservation-initiative">
	
	<a class="post-thumbnail" href="https://tjassal.github.io/LabWebsite/2017/12/06/presentation-at-the-wy-tws-meeting/" aria-hidden="true">
			<img width="672" height="372" src="https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/12/2017-SB-27.jpg?resize=672%2C372&amp;ssl=1" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Presentation at the WYOMING-TWS Meeting" srcset="https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/12/2017-SB-27.jpg?resize=672%2C372&amp;ssl=1 672w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/12/2017-SB-27.jpg?resize=1038%2C576&amp;ssl=1 1038w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/12/2017-SB-27.jpg?zoom=2&amp;resize=672%2C372 1344w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/12/2017-SB-27.jpg?zoom=3&amp;resize=672%2C372 2016w" sizes="(max-width: 672px) 100vw, 672px" />	</a>

			
	<header class="entry-header">
		<h1 class="entry-title"><a href="https://tjassal.github.io/LabWebsite/2017/12/06/presentation-at-the-wy-tws-meeting/" rel="bookmark">Presentation at the WYOMING-TWS Meeting</a></h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="https://tjassal.github.io/LabWebsite/2017/12/06/presentation-at-the-wy-tws-meeting/" rel="bookmark"><time class="entry-date" datetime="2017-12-06T14:11:49-06:00">December 6, 2017</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://tjassal.github.io/LabWebsite/author/tim-assalgmail-com/" rel="author">tim.assal@gmail.com</a></span></span>			<span class="comments-link"><a href="https://tjassal.github.io/LabWebsite/2017/12/06/presentation-at-the-wy-tws-meeting/#respond">Leave a comment</a></span>
						</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p>I will present research on drought-induced variability of sagebrush ecosystem productivity in the Upper Green River Basin at the <a href="http://wytwsconference.org/" target="_blank" rel="noopener">Wyoming Chapter of The Wildlife Society Annual Meeting</a> in Jackson, WY. My presentation is part of the session entitled: <em>Grassland &amp; Sagebrush Environments</em>. We think this work is noteworthy because it deals with an important disturbance (drought) in an important habitat in the West (the Sagebrush Sea). Such a disturbance can have cascading effects on scores of species that live in the sagebrush ecosystem. The project could not have come to fruition without the collaboration of my partners at the Wyoming Game and Fish and the Natural Resources Conservation Service and funding from the <a href="https://www.wlci.gov/" target="_blank" rel="noopener">Wyoming Landscape Conservation Initiative</a>. I hope to submit the manuscript for publication shortly.</p>
<p><em>*Banner image: the Sagebrush Sea at the foot of the Wind River Mountains, Wyoming.</em></p>
<div class="twttr_buttons">
<div class="twttr_twitter">
					<a href="http://twitter.com/share?text=Presentation+at+the+WYOMING-TWS+Meeting" class="twitter-share-button" data-via="" data-hashtags=""  data-size="default" data-url="https://tjassal.github.io/LabWebsite/2017/12/06/presentation-at-the-wy-tws-meeting/"  data-related="" target="_blank">Tweet</a>
				</div>
</div>
	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="https://tjassal.github.io/LabWebsite/tag/drought/" rel="tag">drought</a><a href="https://tjassal.github.io/LabWebsite/tag/ecosystem-disturbance/" rel="tag">ecosystem disturbance</a><a href="https://tjassal.github.io/LabWebsite/tag/modis/" rel="tag">MODIS</a><a href="https://tjassal.github.io/LabWebsite/tag/ndvi-time-series/" rel="tag">NDVI time series</a><a href="https://tjassal.github.io/LabWebsite/tag/normalized-difference-moisture-index/" rel="tag">Normalized Difference Moisture Index</a><a href="https://tjassal.github.io/LabWebsite/tag/open-data/" rel="tag">open data</a><a href="https://tjassal.github.io/LabWebsite/tag/open-science/" rel="tag">Open Science</a><a href="https://tjassal.github.io/LabWebsite/tag/raster/" rel="tag">Raster</a><a href="https://tjassal.github.io/LabWebsite/tag/remote-sensing/" rel="tag">remote sensing</a><a href="https://tjassal.github.io/LabWebsite/tag/sagebrush-steppe/" rel="tag">sagebrush steppe</a><a href="https://tjassal.github.io/LabWebsite/tag/wlci/" rel="tag">WLCI</a><a href="https://tjassal.github.io/LabWebsite/tag/wyoming/" rel="tag">Wyoming</a><a href="https://tjassal.github.io/LabWebsite/tag/wyoming-landscape-conservation-initiative/" rel="tag">Wyoming Landscape Conservation Initiative</a></span></footer></article><!-- #post-1628 -->

<article id="post-1473" class="post-1473 post type-post status-publish format-standard has-post-thumbnail hentry category-blog-lite tag-data-visualization tag-dataviz tag-drought tag-emodis tag-modis tag-ndvi-time-series tag-open-science tag-r-statistics tag-raster tag-remote-sensing tag-satellite-imagery tag-science-communication">
	
	<a class="post-thumbnail" href="https://tjassal.github.io/LabWebsite/2017/02/21/raster-visualization-in-r-vegetation-productivity-in-the-yuba-river-watershed/" aria-hidden="true">
			<img width="672" height="372" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2017/02/raster_banner2.jpg?resize=672%2C372&amp;ssl=1" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Raster Visualization in R: Vegetation productivity in the Yuba River Watershed" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2017/02/raster_banner2.jpg?resize=672%2C372&amp;ssl=1 672w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2017/02/raster_banner2.jpg?resize=1038%2C576&amp;ssl=1 1038w" sizes="(max-width: 672px) 100vw, 672px" />	</a>

			
	<header class="entry-header">
		<h1 class="entry-title"><a href="https://tjassal.github.io/LabWebsite/2017/02/21/raster-visualization-in-r-vegetation-productivity-in-the-yuba-river-watershed/" rel="bookmark">Raster Visualization in R: Vegetation productivity in the Yuba River Watershed</a></h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="https://tjassal.github.io/LabWebsite/2017/02/21/raster-visualization-in-r-vegetation-productivity-in-the-yuba-river-watershed/" rel="bookmark"><time class="entry-date" datetime="2017-02-21T17:37:53-06:00">February 21, 2017</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://tjassal.github.io/LabWebsite/author/tim-assalgmail-com/" rel="author">tim.assal@gmail.com</a></span></span>			<span class="comments-link"><a href="https://tjassal.github.io/LabWebsite/2017/02/21/raster-visualization-in-r-vegetation-productivity-in-the-yuba-river-watershed/#comments">1 Comment</a></span>
						</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p>Below is a brief example of raster visualization in R. It is a more thorough explanation of an example of rasterVIS that I used in a recent lecture I gave in the <a href="https://geog.sfsu.edu/" target="_blank">Department of Geography and Environment</a> at San Francisco State University. The goal is to gain a brief understanding on vegetation productivity dynamics in the Yuba River Watershed (where the <a href="http://www.sfsu.edu/~sierra/" target="_blank">SFSU Sierra Nevada Field Campus</a> is located) and quickly display the data using Oscar Perpiñán&#8217;s excellent R package <a href="https://oscarperpinan.github.io/rastervis/" target="_blank">rasterVis</a>.</p>
<p>I used <a href="https://lta.cr.usgs.gov/emodis" target="_blank">eMODIS</a> (EROS Moderate Resolution Imaging Spectroradiometer) data to characterize the NDVI derived productivity of the Yuba River Basin during the month of August. eMODIS is a standardized product which uses MODIS surface reflectance from a 7-day composite period (Brown et al. 2015). I used all eMODIS images from August during the period 2000 through 2016 to calculate the 17-year August mean. I then calculated August productivity anomalies for a dry year (2014) and an average year (2006) to identify the spatial and temporal variability in productivity within the watershed (based on regional data; Malone et al. 2016).</p>
<p>To execute the example below, please download the data <a href="https://tjassal.github.io/LabWebsite/wp-content/uploads/2017/02/Yuba_Data.zip" target="_blank">here.</a> I have not included the base data or code to calculate the global mean and anomalies.</p>
<p>Load the required packages in R (note: the Rcolorbrewer library is loaded with the rasterVis library).</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472849220407193" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Load libraries</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
library(rgdal)   #Geospatial Data Abstraction Library
library(raster)  #Geographic data analysis &amp; modeling Lib
library(rasterVis) #Raster Visualization library</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472849220407193-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472849220407193-2">2</div><div class="crayon-num" data-line="crayon-5f21836472849220407193-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472849220407193-1"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">rgdal</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">#Geospatial Data Abstraction Library</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472849220407193-2"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">raster</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">#Geographic data analysis &amp; modeling Lib</span></div><div class="crayon-line" id="crayon-5f21836472849220407193-3"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">rasterVis</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">#Raster Visualization library</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Load the required data:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f2183647284f867383315" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Load data</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#load .shp (proj is the same as the raster data)
huc.shp &lt;- readOGR(".", "yuba_watershed_HUC08_LEA")

#load raster data
Global.mean.August&lt;-raster("august_yuba_mean_2000_2016.tif")
August.2006.Z&lt;-raster("August_2006_Z.tif")
August.2014.Z&lt;-raster("August_2014_Z.tif")</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f2183647284f867383315-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647284f867383315-2">2</div><div class="crayon-num" data-line="crayon-5f2183647284f867383315-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647284f867383315-4">4</div><div class="crayon-num" data-line="crayon-5f2183647284f867383315-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647284f867383315-6">6</div><div class="crayon-num" data-line="crayon-5f2183647284f867383315-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f2183647284f867383315-1"><span class="crayon-c">#load .shp (proj is the same as the raster data)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647284f867383315-2"><span class="crayon-v">huc</span><span class="crayon-sy">.</span><span class="crayon-v">shp</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">readOGR</span><span class="crayon-sy">(</span><span class="crayon-s">"."</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"yuba_watershed_HUC08_LEA"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f2183647284f867383315-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647284f867383315-4"><span class="crayon-c">#load raster data</span></div><div class="crayon-line" id="crayon-5f2183647284f867383315-5"><span class="crayon-v">Global</span><span class="crayon-sy">.</span><span class="crayon-v">mean</span><span class="crayon-sy">.</span><span class="crayon-v">August</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-s">"august_yuba_mean_2000_2016.tif"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647284f867383315-6"><span class="crayon-v">August</span><span class="crayon-sy">.</span><span class="crayon-cn">2006.Z</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-s">"August_2006_Z.tif"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f2183647284f867383315-7"><span class="crayon-v">August</span><span class="crayon-sy">.</span><span class="crayon-cn">2014.Z</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-s">"August_2014_Z.tif"</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>Plot the mean productivity for August (2000-2016):</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472851354373340" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#plot mean August NDVI 2000-2016
# set a color ramp of yellow to green
cols &lt;- colorRampPalette(brewer.pal(9,"YlGn"))

# create a level plot - for Mean August NDVI
p&lt;-levelplot(Global.mean.August,main="Average August Productivity (NDVI; 2000-2016) - Yuba River Watershed",
             col.regions=cols)

# overlay the spatialpolygonsdataframe
map.overlay&lt;-p+layer(sp.lines(huc.shp, lwd=2.5, col='black'))

#plot the data
plot(map.overlay)

#export graphic
jpeg("Global_mean_August.jpg",width=8,height=8,units="in",res=1200)
plot(map.overlay)
dev.off() # turn off png device</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472851354373340-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472851354373340-2">2</div><div class="crayon-num" data-line="crayon-5f21836472851354373340-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472851354373340-4">4</div><div class="crayon-num" data-line="crayon-5f21836472851354373340-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472851354373340-6">6</div><div class="crayon-num" data-line="crayon-5f21836472851354373340-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472851354373340-8">8</div><div class="crayon-num" data-line="crayon-5f21836472851354373340-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472851354373340-10">10</div><div class="crayon-num" data-line="crayon-5f21836472851354373340-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472851354373340-12">12</div><div class="crayon-num" data-line="crayon-5f21836472851354373340-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472851354373340-14">14</div><div class="crayon-num" data-line="crayon-5f21836472851354373340-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472851354373340-16">16</div><div class="crayon-num" data-line="crayon-5f21836472851354373340-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472851354373340-18">18</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472851354373340-1"><span class="crayon-c">#plot mean August NDVI 2000-2016</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472851354373340-2"><span class="crayon-c"># set a color ramp of yellow to green</span></div><div class="crayon-line" id="crayon-5f21836472851354373340-3"><span class="crayon-v">cols</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">colorRampPalette</span><span class="crayon-sy">(</span><span class="crayon-v">brewer</span><span class="crayon-sy">.</span><span class="crayon-e">pal</span><span class="crayon-sy">(</span><span class="crayon-cn">9</span><span class="crayon-sy">,</span><span class="crayon-s">"YlGn"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472851354373340-4">&nbsp;</div><div class="crayon-line" id="crayon-5f21836472851354373340-5"><span class="crayon-c"># create a level plot - for Mean August NDVI</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472851354373340-6"><span class="crayon-v">p</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">levelplot</span><span class="crayon-sy">(</span><span class="crayon-v">Global</span><span class="crayon-sy">.</span><span class="crayon-v">mean</span><span class="crayon-sy">.</span><span class="crayon-v">August</span><span class="crayon-sy">,</span><span class="crayon-v">main</span><span class="crayon-o">=</span><span class="crayon-s">"Average August Productivity (NDVI; 2000-2016) - Yuba River Watershed"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5f21836472851354373340-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">col</span><span class="crayon-sy">.</span><span class="crayon-v">regions</span><span class="crayon-o">=</span><span class="crayon-v">cols</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472851354373340-8">&nbsp;</div><div class="crayon-line" id="crayon-5f21836472851354373340-9"><span class="crayon-c"># overlay the spatialpolygonsdataframe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472851354373340-10"><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-o">+</span><span class="crayon-e">layer</span><span class="crayon-sy">(</span><span class="crayon-v">sp</span><span class="crayon-sy">.</span><span class="crayon-e">lines</span><span class="crayon-sy">(</span><span class="crayon-v">huc</span><span class="crayon-sy">.</span><span class="crayon-v">shp</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lwd</span><span class="crayon-o">=</span><span class="crayon-cn">2.5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">col</span><span class="crayon-o">=</span><span class="crayon-s">'black'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472851354373340-11">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472851354373340-12"><span class="crayon-c">#plot the data</span></div><div class="crayon-line" id="crayon-5f21836472851354373340-13"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472851354373340-14">&nbsp;</div><div class="crayon-line" id="crayon-5f21836472851354373340-15"><span class="crayon-c">#export graphic</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472851354373340-16"><span class="crayon-e">jpeg</span><span class="crayon-sy">(</span><span class="crayon-s">"Global_mean_August.jpg"</span><span class="crayon-sy">,</span><span class="crayon-v">width</span><span class="crayon-o">=</span><span class="crayon-cn">8</span><span class="crayon-sy">,</span><span class="crayon-v">height</span><span class="crayon-o">=</span><span class="crayon-cn">8</span><span class="crayon-sy">,</span><span class="crayon-v">units</span><span class="crayon-o">=</span><span class="crayon-s">"in"</span><span class="crayon-sy">,</span><span class="crayon-v">res</span><span class="crayon-o">=</span><span class="crayon-cn">1200</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472851354373340-17"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472851354373340-18"><span class="crayon-v">dev</span><span class="crayon-sy">.</span><span class="crayon-e">off</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c"># turn off png device</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p><figure id="attachment_1486" aria-describedby="caption-attachment-1486" style="width: 474px" class="wp-caption aligncenter"><a href="https://i0.wp.com/www.timassal.com/wp-content/uploads/2017/02/Global_mean_August.jpg" target="_blank"><img class="wp-image-1486 size-large" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2017/02/Global_mean_August-e1487722496741-1024x789.jpg?resize=474%2C365" width="474" height="365" srcset="https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Global_mean_August-e1487722496741.jpg?resize=1024%2C789&amp;ssl=1 1024w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Global_mean_August-e1487722496741.jpg?resize=300%2C231&amp;ssl=1 300w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Global_mean_August-e1487722496741.jpg?resize=768%2C592&amp;ssl=1 768w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Global_mean_August-e1487722496741.jpg?w=948 948w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Global_mean_August-e1487722496741.jpg?w=1422 1422w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-1486" class="wp-caption-text">Note: the NDVI values are scaled by a value of 10000. The gray graphics along the top and left axes represent the mean of the row (right) and column (top) values.</figcaption></figure></p>
<p>Plot the 2014 and 2006 August productivity anomalies:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472852102132387" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#plot Aug 2014 anomaly (dry year)
# set a color ramp of red to blue
cols &lt;- colorRampPalette(brewer.pal(9,"RdBu"))
p&lt;-levelplot(August.2014.Z,main="August 2014 NDVI Anomaly - Yuba River Watershed",
             col.regions=cols)
map.overlay&lt;-p+layer(sp.lines(huc.shp, lwd=2.5, col='black'))

#plot Aug 2006 anomaly (average year)
cols &lt;- colorRampPalette(brewer.pal(9,"RdBu"))
p&lt;-levelplot(August.2006.Z,main="August 2006 NDVI Anomaly - Yuba River Watershed",
             col.regions=cols)
map.overlay&lt;-p+layer(sp.lines(huc.shp, lwd=2.5, col='black'))</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472852102132387-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472852102132387-2">2</div><div class="crayon-num" data-line="crayon-5f21836472852102132387-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472852102132387-4">4</div><div class="crayon-num" data-line="crayon-5f21836472852102132387-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472852102132387-6">6</div><div class="crayon-num" data-line="crayon-5f21836472852102132387-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472852102132387-8">8</div><div class="crayon-num" data-line="crayon-5f21836472852102132387-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472852102132387-10">10</div><div class="crayon-num" data-line="crayon-5f21836472852102132387-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472852102132387-12">12</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472852102132387-1"><span class="crayon-c">#plot Aug 2014 anomaly (dry year)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472852102132387-2"><span class="crayon-c"># set a color ramp of red to blue</span></div><div class="crayon-line" id="crayon-5f21836472852102132387-3"><span class="crayon-v">cols</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">colorRampPalette</span><span class="crayon-sy">(</span><span class="crayon-v">brewer</span><span class="crayon-sy">.</span><span class="crayon-e">pal</span><span class="crayon-sy">(</span><span class="crayon-cn">9</span><span class="crayon-sy">,</span><span class="crayon-s">"RdBu"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472852102132387-4"><span class="crayon-v">p</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">levelplot</span><span class="crayon-sy">(</span><span class="crayon-v">August</span><span class="crayon-sy">.</span><span class="crayon-cn">2014.Z</span><span class="crayon-sy">,</span><span class="crayon-v">main</span><span class="crayon-o">=</span><span class="crayon-s">"August 2014 NDVI Anomaly - Yuba River Watershed"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5f21836472852102132387-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">col</span><span class="crayon-sy">.</span><span class="crayon-v">regions</span><span class="crayon-o">=</span><span class="crayon-v">cols</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472852102132387-6"><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-o">+</span><span class="crayon-e">layer</span><span class="crayon-sy">(</span><span class="crayon-v">sp</span><span class="crayon-sy">.</span><span class="crayon-e">lines</span><span class="crayon-sy">(</span><span class="crayon-v">huc</span><span class="crayon-sy">.</span><span class="crayon-v">shp</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lwd</span><span class="crayon-o">=</span><span class="crayon-cn">2.5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">col</span><span class="crayon-o">=</span><span class="crayon-s">'black'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472852102132387-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472852102132387-8"><span class="crayon-c">#plot Aug 2006 anomaly (average year)</span></div><div class="crayon-line" id="crayon-5f21836472852102132387-9"><span class="crayon-v">cols</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">colorRampPalette</span><span class="crayon-sy">(</span><span class="crayon-v">brewer</span><span class="crayon-sy">.</span><span class="crayon-e">pal</span><span class="crayon-sy">(</span><span class="crayon-cn">9</span><span class="crayon-sy">,</span><span class="crayon-s">"RdBu"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472852102132387-10"><span class="crayon-v">p</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">levelplot</span><span class="crayon-sy">(</span><span class="crayon-v">August</span><span class="crayon-sy">.</span><span class="crayon-cn">2006.Z</span><span class="crayon-sy">,</span><span class="crayon-v">main</span><span class="crayon-o">=</span><span class="crayon-s">"August 2006 NDVI Anomaly - Yuba River Watershed"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5f21836472852102132387-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">col</span><span class="crayon-sy">.</span><span class="crayon-v">regions</span><span class="crayon-o">=</span><span class="crayon-v">cols</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472852102132387-12"><span class="crayon-v">map</span><span class="crayon-sy">.</span><span class="crayon-v">overlay</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">p</span><span class="crayon-o">+</span><span class="crayon-e">layer</span><span class="crayon-sy">(</span><span class="crayon-v">sp</span><span class="crayon-sy">.</span><span class="crayon-e">lines</span><span class="crayon-sy">(</span><span class="crayon-v">huc</span><span class="crayon-sy">.</span><span class="crayon-v">shp</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lwd</span><span class="crayon-o">=</span><span class="crayon-cn">2.5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">col</span><span class="crayon-o">=</span><span class="crayon-s">'black'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0007 seconds] -->
<p><a href="https://i0.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2014_Anomaly.jpg" target="_blank"><img class="wp-image-1484 size-large" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2014_Anomaly-e1487722807985-1024x829.jpg?resize=474%2C384" width="474" height="384" srcset="https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2014_Anomaly-e1487722807985.jpg?resize=1024%2C829&amp;ssl=1 1024w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2014_Anomaly-e1487722807985.jpg?resize=300%2C243&amp;ssl=1 300w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2014_Anomaly-e1487722807985.jpg?resize=768%2C622&amp;ssl=1 768w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2014_Anomaly-e1487722807985.jpg?w=948 948w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2014_Anomaly-e1487722807985.jpg?w=1422 1422w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a></p>
<p><figure id="attachment_1485" aria-describedby="caption-attachment-1485" style="width: 474px" class="wp-caption aligncenter"><a href="https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2006_Anomaly.jpg" target="_blank"><img class="wp-image-1485 size-large" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2006_Anomaly-e1487722954997-1024x813.jpg?resize=474%2C376" width="474" height="376" srcset="https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2006_Anomaly-e1487722954997.jpg?resize=1024%2C813&amp;ssl=1 1024w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2006_Anomaly-e1487722954997.jpg?resize=300%2C238&amp;ssl=1 300w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2006_Anomaly-e1487722954997.jpg?resize=768%2C609&amp;ssl=1 768w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2006_Anomaly-e1487722954997.jpg?w=948 948w, https://i2.wp.com/www.timassal.com/wp-content/uploads/2017/02/Aug2006_Anomaly-e1487722954997.jpg?w=1422 1422w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-1485" class="wp-caption-text">Compare dry-year anomalies (top) with average-year anomalies (bottom). The anomalies are analogous to Z-scores and were calculated as the deviation from mean, normalized by the standard deviation.</figcaption></figure></p>
<p><strong>Literature Cited</strong></p>
<p>Brown, J. F., D. Howard, B. Wylie, A. Frieze, L. Ji, and C. Gacke. 2015. Application-ready expedited MODIS data for operational land surface monitoring of vegetation condition. Remote Sensing 7:16226–16240.</p>
<p>Malone, S. L., M. G. Tulbure, A. J. Pérez-luque, T. J. Assal, L. L. Bremer, D. P. Drucker, V. Hillis, S. Varela, and M. L. Goulden. 2016. Drought resistance across California ecosystems : evaluating changes in carbon dynamics using satellite imagery. Ecosphere 7:1–19.</p>
<div class="twttr_buttons">
<div class="twttr_twitter">
					<a href="http://twitter.com/share?text=Raster+Visualization+in+R%3A+Vegetation+productivity+in+the+Yuba+River+Watershed" class="twitter-share-button" data-via="" data-hashtags=""  data-size="default" data-url="https://tjassal.github.io/LabWebsite/2017/02/21/raster-visualization-in-r-vegetation-productivity-in-the-yuba-river-watershed/"  data-related="" target="_blank">Tweet</a>
				</div>
</div>
	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="https://tjassal.github.io/LabWebsite/tag/data-visualization/" rel="tag">Data Visualization</a><a href="https://tjassal.github.io/LabWebsite/tag/dataviz/" rel="tag">DataViz</a><a href="https://tjassal.github.io/LabWebsite/tag/drought/" rel="tag">drought</a><a href="https://tjassal.github.io/LabWebsite/tag/emodis/" rel="tag">eMODIS</a><a href="https://tjassal.github.io/LabWebsite/tag/modis/" rel="tag">MODIS</a><a href="https://tjassal.github.io/LabWebsite/tag/ndvi-time-series/" rel="tag">NDVI time series</a><a href="https://tjassal.github.io/LabWebsite/tag/open-science/" rel="tag">Open Science</a><a href="https://tjassal.github.io/LabWebsite/tag/r-statistics/" rel="tag">R statistics</a><a href="https://tjassal.github.io/LabWebsite/tag/raster/" rel="tag">Raster</a><a href="https://tjassal.github.io/LabWebsite/tag/remote-sensing/" rel="tag">remote sensing</a><a href="https://tjassal.github.io/LabWebsite/tag/satellite-imagery/" rel="tag">satellite imagery</a><a href="https://tjassal.github.io/LabWebsite/tag/science-communication/" rel="tag">science communication</a></span></footer></article><!-- #post-1473 -->

<article id="post-1210" class="post-1210 post type-post status-publish format-standard has-post-thumbnail hentry category-blog-lite tag-array tag-climate-data tag-fuel-moisture-data tag-gridded-surface-meteorological-data tag-matrix tag-netcdf tag-network-common-data-form tag-open-science tag-r-statistics tag-raster tag-spatial-statistics tag-time-series">
	
	<a class="post-thumbnail" href="https://tjassal.github.io/LabWebsite/2016/03/29/netcdf-data-in-r-rearranging-the-dimensions-for-raster-analysis/" aria-hidden="true">
			<img width="672" height="372" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2016/03/canaryIslands_tmo_2015140_lrg.jpg?resize=672%2C372&amp;ssl=1" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="NetCDF Data in R: rearranging the dimensions for raster analysis" srcset="https://i0.wp.com/www.timassal.com/wp-content/uploads/2016/03/canaryIslands_tmo_2015140_lrg.jpg?resize=672%2C372&amp;ssl=1 672w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2016/03/canaryIslands_tmo_2015140_lrg.jpg?resize=1038%2C576&amp;ssl=1 1038w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2016/03/canaryIslands_tmo_2015140_lrg.jpg?zoom=2&amp;resize=672%2C372 1344w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2016/03/canaryIslands_tmo_2015140_lrg.jpg?zoom=3&amp;resize=672%2C372 2016w" sizes="(max-width: 672px) 100vw, 672px" />	</a>

			
	<header class="entry-header">
		<h1 class="entry-title"><a href="https://tjassal.github.io/LabWebsite/2016/03/29/netcdf-data-in-r-rearranging-the-dimensions-for-raster-analysis/" rel="bookmark">NetCDF Data in R: rearranging the dimensions for raster analysis</a></h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="https://tjassal.github.io/LabWebsite/2016/03/29/netcdf-data-in-r-rearranging-the-dimensions-for-raster-analysis/" rel="bookmark"><time class="entry-date" datetime="2016-03-29T17:19:19-06:00">March 29, 2016</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://tjassal.github.io/LabWebsite/author/tim-assalgmail-com/" rel="author">tim.assal@gmail.com</a></span></span>			<span class="comments-link"><a href="https://tjassal.github.io/LabWebsite/2016/03/29/netcdf-data-in-r-rearranging-the-dimensions-for-raster-analysis/#comments">6 Comments</a></span>
						</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p>I recently ran into some challenges working with netCDF data in R. Specifically, I wanted to extract data from a netCDF file and convert the file to a raster for additional analyses. It is pretty straightforward to import each time slice of a variable into a RasterBrick. However, once I tried this I realized the columns, rows, and layers from the netCDF file were not being read properly in R, resulting in an incorrect raster layer. The solution is to import the netCDF file into R as an array and then reorganize the array into the proper dimensions. I hope this is helpful and please let me know if you know of a better solution.</p>
<p>In this example, I am working with dead fuel moisture data available from Dr. John Abatzoglou’s Applied Climate Science Lab <a href="http://climate.nkn.uidaho.edu/METDATA/" target="_blank">website</a>.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472e41961010202" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Import the netCDF File</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
library(ncdf)
nc &lt;- open.ncdf("fm100_2003.nc");
print(nc)
[1] "file fm100_2003.nc has 3 dimensions:"
[1] "lon   Size: 1386"
[1] "lat   Size: 585"
[1] "day   Size: 365"
[1] "------------------------"
[1] "file fm100_2003.nc has 1 variables:"
[1] "short dead_fuel_moisture_100hr[day,lon,lat]  Longname:dead_fuel_moisture_100hr Missval:-9999"</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472e41961010202-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e41961010202-2">2</div><div class="crayon-num" data-line="crayon-5f21836472e41961010202-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e41961010202-4">4</div><div class="crayon-num" data-line="crayon-5f21836472e41961010202-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e41961010202-6">6</div><div class="crayon-num" data-line="crayon-5f21836472e41961010202-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e41961010202-8">8</div><div class="crayon-num" data-line="crayon-5f21836472e41961010202-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e41961010202-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472e41961010202-1"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">ncdf</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e41961010202-2"><span class="crayon-v">nc</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">open</span><span class="crayon-sy">.</span><span class="crayon-e">ncdf</span><span class="crayon-sy">(</span><span class="crayon-s">"fm100_2003.nc"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5f21836472e41961010202-3"><span class="crayon-e">print</span><span class="crayon-sy">(</span><span class="crayon-v">nc</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e41961010202-4"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-s">"file fm100_2003.nc has 3 dimensions:"</span></div><div class="crayon-line" id="crayon-5f21836472e41961010202-5"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-s">"lon&nbsp;&nbsp; Size: 1386"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e41961010202-6"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-s">"lat&nbsp;&nbsp; Size: 585"</span></div><div class="crayon-line" id="crayon-5f21836472e41961010202-7"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-s">"day&nbsp;&nbsp; Size: 365"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e41961010202-8"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-s">"------------------------"</span></div><div class="crayon-line" id="crayon-5f21836472e41961010202-9"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-s">"file fm100_2003.nc has 1 variables:"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e41961010202-10"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-s">"short dead_fuel_moisture_100hr[day,lon,lat]&nbsp;&nbsp;Longname:dead_fuel_moisture_100hr Missval:-9999"</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p>The netCDF file has 3 dimensions and the size of the day dimension corresponds to daily dead fuel moisture of 100-hour fuels for one year (365 days).  I can import these into a RasterBrick for additional analyses:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472e47879972606" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Import netCDF into RasterBrick</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
r &lt;- "fm100_2003.nc"
b &lt;- brick(r,varname="dead_fuel_moisture_100hr")</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472e47879972606-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e47879972606-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472e47879972606-1"><span class="crayon-v">r</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-s">"fm100_2003.nc"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e47879972606-2"><span class="crayon-v">b</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-e">brick</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-v">varname</span><span class="crayon-o">=</span><span class="crayon-s">"dead_fuel_moisture_100hr"</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>However, the issue is that the columns and layers in the RasterBrick are switched, which results in an incorrect raster<code></code> for each layer in the brick. The dimensions of the RasterBrick<code></code> should read 585, 1386, 810810, 365 instead of the dimensions below:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472e49029174983" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">RasterBrick Info</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
class       : RasterBrick 
dimensions  : 1386, 365, 505890, 585  (nrow, ncol, ncell, nlayers)
resolution  : 1, 0.04166667  (x, y)
extent      : 37619.5, 37984.5, -124.793, -67.043  (xmin, xmax, ymin, ymax)
coord. ref. : NA 
data source : fm100_2003.nc 
names       : X49.3960227966309, X49.3543561299642, X49.3126894632975, X49.2710227966309, X49.2293561299642, X49.1876894632975, X49.1460227966309, X49.1043561299642, X49.0626894632975, X49.0210227966309, X48.9793561299642, X48.9376894632975, X48.8960227966309, X48.8543561299642, X48.8126894632975, ... 
degrees_north: 25.0626894632975, 49.3960227966309 (min, max)
varname     : dead_fuel_moisture_100hr</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472e49029174983-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e49029174983-2">2</div><div class="crayon-num" data-line="crayon-5f21836472e49029174983-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e49029174983-4">4</div><div class="crayon-num" data-line="crayon-5f21836472e49029174983-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e49029174983-6">6</div><div class="crayon-num" data-line="crayon-5f21836472e49029174983-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e49029174983-8">8</div><div class="crayon-num" data-line="crayon-5f21836472e49029174983-9">9</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472e49029174983-1"><span class="crayon-t">class</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-e">RasterBrick </span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e49029174983-2"><span class="crayon-v">dimensions</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1386</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">365</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">505890</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">585</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">nrow</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ncol</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ncell</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nlayers</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472e49029174983-3"><span class="crayon-v">resolution</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.04166667</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e49029174983-4"><span class="crayon-v">extent</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">37619.5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">37984.5</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">124.793</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">67.043</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-v">xmin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">xmax</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ymin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ymax</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472e49029174983-5"><span class="crayon-v">coord</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-v">ref</span><span class="crayon-sy">.</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">NA</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e49029174983-6"><span class="crayon-e">data </span><span class="crayon-r">source</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">fm100_2003</span><span class="crayon-sy">.</span><span class="crayon-e">nc </span></div><div class="crayon-line" id="crayon-5f21836472e49029174983-7"><span class="crayon-v">names</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">3960227966309</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">3543561299642</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">3126894632975</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">2710227966309</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">2293561299642</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">1876894632975</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">1460227966309</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">1043561299642</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">0626894632975</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X49</span><span class="crayon-sy">.</span><span class="crayon-cn">0210227966309</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X48</span><span class="crayon-sy">.</span><span class="crayon-cn">9793561299642</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X48</span><span class="crayon-sy">.</span><span class="crayon-cn">9376894632975</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X48</span><span class="crayon-sy">.</span><span class="crayon-cn">8960227966309</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X48</span><span class="crayon-sy">.</span><span class="crayon-cn">8543561299642</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">X48</span><span class="crayon-sy">.</span><span class="crayon-cn">8126894632975</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e49029174983-8"><span class="crayon-v">degrees_north</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">25.0626894632975</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">49.3960227966309</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">min</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">max</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472e49029174983-9"><span class="crayon-v">varname</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">dead_fuel_moisture_100hr</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0008 seconds] -->
<p>The solution is to import the netCDF file into R as an array and then reorganize the array into the proper dimensions.</p>
<p>Import the netCDF  file as an array:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472e4b795726095" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Import netCDF as an array</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
dname &lt;- "dead_fuel_moisture_100hr"
array1 &lt;- get.var.ncdf(nc, dname) 
dim(array1)
[1]  365 1386  585</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472e4b795726095-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e4b795726095-2">2</div><div class="crayon-num" data-line="crayon-5f21836472e4b795726095-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e4b795726095-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472e4b795726095-1"><span class="crayon-v">dname</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-s">"dead_fuel_moisture_100hr"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e4b795726095-2"><span class="crayon-v">array1</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">get</span><span class="crayon-sy">.</span><span class="crayon-t">var</span><span class="crayon-sy">.</span><span class="crayon-e">ncdf</span><span class="crayon-sy">(</span><span class="crayon-v">nc</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">dname</span><span class="crayon-sy">)</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5f21836472e4b795726095-3"><span class="crayon-e">dim</span><span class="crayon-sy">(</span><span class="crayon-v">array1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e4b795726095-4"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">365</span><span class="crayon-h"> </span><span class="crayon-cn">1386</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">585</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>The dimensions of array1 are days, columns, rows which need to be rearranged:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472e4c951316106" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Rearrange dimensions of an array</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
array2&lt;-aperm(array1, c(3, 2, 1))
dim(array2)
[1]  585 1386  365</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472e4c951316106-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e4c951316106-2">2</div><div class="crayon-num" data-line="crayon-5f21836472e4c951316106-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472e4c951316106-1"><span class="crayon-v">array2</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">aperm</span><span class="crayon-sy">(</span><span class="crayon-v">array1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">c</span><span class="crayon-sy">(</span><span class="crayon-cn">3</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e4c951316106-2"><span class="crayon-e">dim</span><span class="crayon-sy">(</span><span class="crayon-v">array2</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836472e4c951316106-3"><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">585</span><span class="crayon-h"> </span><span class="crayon-cn">1386</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">365</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>Now the array is organized properly into rows, columns, days. At this point you can access the depth range or each time slice (days 1 through 365) as a matrix:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472e4d629751858" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Extract timeslice to matrix</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#extract day 001 to a matrix
fm.day.001&lt;-array2[,,1]
...
#extract day 365 to a matrix
fm.day.365&lt;-array2[,,365]</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472e4d629751858-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e4d629751858-2">2</div><div class="crayon-num" data-line="crayon-5f21836472e4d629751858-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836472e4d629751858-4">4</div><div class="crayon-num" data-line="crayon-5f21836472e4d629751858-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472e4d629751858-1"><span class="crayon-c">#extract day 001 to a matrix</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e4d629751858-2"><span class="crayon-v">fm</span><span class="crayon-sy">.</span><span class="crayon-v">day</span><span class="crayon-sy">.</span><span class="crayon-cn">001</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">array2</span><span class="crayon-sy">[</span><span class="crayon-sy">,</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5f21836472e4d629751858-3"><span class="crayon-sy">.</span><span class="crayon-sy">.</span><span class="crayon-sy">.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836472e4d629751858-4"><span class="crayon-c">#extract day 365 to a matrix</span></div><div class="crayon-line" id="crayon-5f21836472e4d629751858-5"><span class="crayon-v">fm</span><span class="crayon-sy">.</span><span class="crayon-v">day</span><span class="crayon-sy">.</span><span class="crayon-cn">365</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">array2</span><span class="crayon-sy">[</span><span class="crayon-sy">,</span><span class="crayon-sy">,</span><span class="crayon-cn">365</span><span class="crayon-sy">]</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>If needed, the matrix can be converted to a raster:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836472e4f652500399" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Convert matrix to raster</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
r2&lt;-raster(nrow=585,ncol=1386,vals=fm.day.001, xmn=-124.7722, xmx=-67.06383,  ymn=25.06269, ymx=49.39602)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836472e4f652500399-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836472e4f652500399-1"><span class="crayon-v">r2</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-v">nrow</span><span class="crayon-o">=</span><span class="crayon-cn">585</span><span class="crayon-sy">,</span><span class="crayon-v">ncol</span><span class="crayon-o">=</span><span class="crayon-cn">1386</span><span class="crayon-sy">,</span><span class="crayon-v">vals</span><span class="crayon-o">=</span><span class="crayon-v">fm</span><span class="crayon-sy">.</span><span class="crayon-v">day</span><span class="crayon-sy">.</span><span class="crayon-cn">001</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">xmn</span><span class="crayon-o">=</span><span class="crayon-o">-</span><span class="crayon-cn">124.7722</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">xmx</span><span class="crayon-o">=</span><span class="crayon-o">-</span><span class="crayon-cn">67.06383</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">ymn</span><span class="crayon-o">=</span><span class="crayon-cn">25.06269</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ymx</span><span class="crayon-o">=</span><span class="crayon-cn">49.39602</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p>&nbsp;</p>
<div class="twttr_buttons">
<div class="twttr_twitter">
					<a href="http://twitter.com/share?text=NetCDF+Data+in+R%3A+rearranging+the+dimensions+for+raster+analysis" class="twitter-share-button" data-via="" data-hashtags=""  data-size="default" data-url="https://tjassal.github.io/LabWebsite/2016/03/29/netcdf-data-in-r-rearranging-the-dimensions-for-raster-analysis/"  data-related="" target="_blank">Tweet</a>
				</div>
</div>
	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="https://tjassal.github.io/LabWebsite/tag/array/" rel="tag">Array</a><a href="https://tjassal.github.io/LabWebsite/tag/climate-data/" rel="tag">Climate Data</a><a href="https://tjassal.github.io/LabWebsite/tag/fuel-moisture-data/" rel="tag">Fuel Moisture Data</a><a href="https://tjassal.github.io/LabWebsite/tag/gridded-surface-meteorological-data/" rel="tag">Gridded Surface Meteorological Data</a><a href="https://tjassal.github.io/LabWebsite/tag/matrix/" rel="tag">Matrix</a><a href="https://tjassal.github.io/LabWebsite/tag/netcdf/" rel="tag">netCDF</a><a href="https://tjassal.github.io/LabWebsite/tag/network-common-data-form/" rel="tag">Network Common Data Form</a><a href="https://tjassal.github.io/LabWebsite/tag/open-science/" rel="tag">Open Science</a><a href="https://tjassal.github.io/LabWebsite/tag/r-statistics/" rel="tag">R statistics</a><a href="https://tjassal.github.io/LabWebsite/tag/raster/" rel="tag">Raster</a><a href="https://tjassal.github.io/LabWebsite/tag/spatial-statistics/" rel="tag">Spatial Statistics</a><a href="https://tjassal.github.io/LabWebsite/tag/time-series/" rel="tag">time series</a></span></footer></article><!-- #post-1210 -->

<article id="post-859" class="post-859 post type-post status-publish format-standard has-post-thumbnail hentry category-blog-lite tag-centering-data tag-conditional-statement tag-r-statistics tag-raster tag-raster-rescale-function tag-species-distribution-modeling">
	
	<a class="post-thumbnail" href="https://tjassal.github.io/LabWebsite/2015/02/25/raster-analysis-in-r-rescaling-and-conditional-statements/" aria-hidden="true">
			<img width="672" height="372" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/notes-header2-Copy.jpg?resize=672%2C372&amp;ssl=1" class="attachment-post-thumbnail size-post-thumbnail wp-post-image" alt="Raster Analysis in R: rescaling and conditional statements" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/notes-header2-Copy.jpg?resize=672%2C372&amp;ssl=1 672w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/notes-header2-Copy.jpg?resize=1038%2C576&amp;ssl=1 1038w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/notes-header2-Copy.jpg?zoom=2&amp;resize=672%2C372 1344w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/notes-header2-Copy.jpg?zoom=3&amp;resize=672%2C372 2016w" sizes="(max-width: 672px) 100vw, 672px" />	</a>

			
	<header class="entry-header">
		<h1 class="entry-title"><a href="https://tjassal.github.io/LabWebsite/2015/02/25/raster-analysis-in-r-rescaling-and-conditional-statements/" rel="bookmark">Raster Analysis in R: rescaling and conditional statements</a></h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="https://tjassal.github.io/LabWebsite/2015/02/25/raster-analysis-in-r-rescaling-and-conditional-statements/" rel="bookmark"><time class="entry-date" datetime="2015-02-25T17:57:37-06:00">February 25, 2015</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="https://tjassal.github.io/LabWebsite/author/tim-assalgmail-com/" rel="author">tim.assal@gmail.com</a></span></span>			<span class="comments-link"><a href="https://tjassal.github.io/LabWebsite/2015/02/25/raster-analysis-in-r-rescaling-and-conditional-statements/#comments">4 Comments</a></span>
						</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p>I frequently benefit from notes that others have posted regarding workflows in R. Recently I ran into some challenges working with raster data while writing code for species distribution modeling. Although some of the information is already out there, I decided to wrap it together here and add a little context. Like everything I do in R, there are probably more efficient ways to accomplish these tasks, but I hope this is helpful.</p>
<p>In this example, I am working with the outputs of predictive habitat distribution models of two forest cover types developed using logistic regression. Assume a raster is a surface indicating probability of occurrence (0-1) for a given cover type and only one cover type can be present for any given pixel. If a pixel is predicted to contain both forest types, the values from each model above the presence threshold need to be linearly rescaled from 0 to 1. Then the cover type with the highest occurrence probability will be assigned to the pixel.</p>
<p>*Load the required packages</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f2183647366b024688267" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Load required libraries</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
library(raster)
library(rgdal)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f2183647366b024688267-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647366b024688267-2">2</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f2183647366b024688267-1"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">raster</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647366b024688267-2"><span class="crayon-r">library</span><span class="crayon-sy">(</span><span class="crayon-v">rgdal</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p>Rescale raster cell values between 0 and 1. I will try to post the example raster data set soon. The function below uses cellStats, so the entire range of values are considered.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836473671867267939" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Generic Method to rescale a raster</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#load raster
r1&lt;-raster("base_raster.img")

#fxn to rescale cell values between 0 and 1
rasterRescale&lt;-function(r){
  ((r-cellStats(r,"min"))/(cellStats(r,"max")-cellStats(r,"min")))
}

#run the fxn
r2&lt;-rasterRescale(r1)
plot(r2)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836473671867267939-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473671867267939-2">2</div><div class="crayon-num" data-line="crayon-5f21836473671867267939-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473671867267939-4">4</div><div class="crayon-num" data-line="crayon-5f21836473671867267939-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473671867267939-6">6</div><div class="crayon-num" data-line="crayon-5f21836473671867267939-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473671867267939-8">8</div><div class="crayon-num" data-line="crayon-5f21836473671867267939-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473671867267939-10">10</div><div class="crayon-num" data-line="crayon-5f21836473671867267939-11">11</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836473671867267939-1"><span class="crayon-c">#load raster</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473671867267939-2"><span class="crayon-v">r1</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-s">"base_raster.img"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836473671867267939-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473671867267939-4"><span class="crayon-c">#fxn to rescale cell values between 0 and 1</span></div><div class="crayon-line" id="crayon-5f21836473671867267939-5"><span class="crayon-v">rasterRescale</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473671867267939-6"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-o">-</span><span class="crayon-e">cellStats</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-s">"min"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-o">/</span><span class="crayon-sy">(</span><span class="crayon-e">cellStats</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-s">"max"</span><span class="crayon-sy">)</span><span class="crayon-o">-</span><span class="crayon-e">cellStats</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-s">"min"</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836473671867267939-7"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473671867267939-8">&nbsp;</div><div class="crayon-line" id="crayon-5f21836473671867267939-9"><span class="crayon-c">#run the fxn</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473671867267939-10"><span class="crayon-v">r2</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">rasterRescale</span><span class="crayon-sy">(</span><span class="crayon-v">r1</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f21836473671867267939-11"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r2</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p><figure id="attachment_889" aria-describedby="caption-attachment-889" style="width: 529px" class="wp-caption aligncenter"><a href="https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot2.jpeg" target="_blank" rel="noopener noreferrer"><img class="wp-image-889 size-full" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot2.jpeg?resize=474%2C480" alt="Raster with values scaled between 0 and 1." width="474" height="480" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot2.jpeg?w=529&amp;ssl=1 529w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot2.jpeg?resize=296%2C300&amp;ssl=1 296w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-889" class="wp-caption-text">Plot of raster r2 with cell values scaled between 0 and 1.</figcaption></figure></p>
<p>&nbsp;</p>
<p>The function above is not particularly helpful in our situation since we only want to rescale the data above a model selected threshold. We must first reclassify the data below the threshold (e.g. 0.6). In the example below, values of 0 could be reclassified to NA, but in my workflow it&#8217;s helpful to set values to 0 so the raster can be incorporated into raster math calculations later on.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836473673529232790" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Reclassify cell values</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#reclassify values below 0.6 to 0; retain cell values above 0.6
r2[r2&lt;=0.6]=0
plot(r2)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836473673529232790-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473673529232790-2">2</div><div class="crayon-num" data-line="crayon-5f21836473673529232790-3">3</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836473673529232790-1"><span class="crayon-c">#reclassify values below 0.6 to 0; retain cell values above 0.6</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473673529232790-2"><span class="crayon-v">r2</span><span class="crayon-sy">[</span><span class="crayon-v">r2</span><span class="crayon-o">&lt;=</span><span class="crayon-cn">0.6</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-cn">0</span></div><div class="crayon-line" id="crayon-5f21836473673529232790-3"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r2</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0001 seconds] -->
<p><figure id="attachment_888" aria-describedby="caption-attachment-888" style="width: 529px" class="wp-caption alignnone"><a href="https://i0.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot3.jpeg" target="_blank" rel="noopener noreferrer"><img class="wp-image-888 size-full" src="https://i0.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot3.jpeg?resize=474%2C480" alt=" " width="474" height="480" srcset="https://i0.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot3.jpeg?w=529&amp;ssl=1 529w, https://i0.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot3.jpeg?resize=296%2C300&amp;ssl=1 296w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-888" class="wp-caption-text">Plot of raster r2 with cell values below the threshold (0.6) set to 0.</figcaption></figure></p>
<p>&nbsp;</p>
<p>Now we can rescale the data above the threshold from 0 to 1. Compare the differences between the map above with the one below.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f21836473678658393682" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Fxn to rescale raster values</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#fxn to rescale values between 0 and 1, but rmin and rmax must be specified
rasterRescale.Set&lt;-function(r, rmin, rmax){
  ((r-rmin)/(rmax-rmin))
}

#run fxn to rescale raster; rmin=0.6; rmax=1
r3&lt;-rasterRescale.Set(r2, 0.6, 1)
#ensure minimum values are set to 0
r3[r3&lt;=0]=0
plot(r3)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f21836473678658393682-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473678658393682-2">2</div><div class="crayon-num" data-line="crayon-5f21836473678658393682-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473678658393682-4">4</div><div class="crayon-num" data-line="crayon-5f21836473678658393682-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473678658393682-6">6</div><div class="crayon-num" data-line="crayon-5f21836473678658393682-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473678658393682-8">8</div><div class="crayon-num" data-line="crayon-5f21836473678658393682-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f21836473678658393682-10">10</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f21836473678658393682-1"><span class="crayon-c">#fxn to rescale values between 0 and 1, but rmin and rmax must be specified</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473678658393682-2"><span class="crayon-v">rasterRescale</span><span class="crayon-sy">.</span><span class="crayon-v">Set</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">rmin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">rmax</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5f21836473678658393682-3"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">r</span><span class="crayon-o">-</span><span class="crayon-v">rmin</span><span class="crayon-sy">)</span><span class="crayon-o">/</span><span class="crayon-sy">(</span><span class="crayon-v">rmax</span><span class="crayon-o">-</span><span class="crayon-v">rmin</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473678658393682-4"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5f21836473678658393682-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473678658393682-6"><span class="crayon-c">#run fxn to rescale raster; rmin=0.6; rmax=1</span></div><div class="crayon-line" id="crayon-5f21836473678658393682-7"><span class="crayon-v">r3</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-v">rasterRescale</span><span class="crayon-sy">.</span><span class="crayon-e">Set</span><span class="crayon-sy">(</span><span class="crayon-v">r2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0.6</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473678658393682-8"><span class="crayon-c">#ensure minimum values are set to 0</span></div><div class="crayon-line" id="crayon-5f21836473678658393682-9"><span class="crayon-v">r3</span><span class="crayon-sy">[</span><span class="crayon-v">r3</span><span class="crayon-o">&lt;=</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-o">=</span><span class="crayon-cn">0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f21836473678658393682-10"><span class="crayon-e">plot</span><span class="crayon-sy">(</span><span class="crayon-v">r3</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p><figure id="attachment_887" aria-describedby="caption-attachment-887" style="width: 529px" class="wp-caption aligncenter"><a href="https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot4.jpeg" target="_blank" rel="noopener noreferrer"><img class="wp-image-887 size-full" src="https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot4.jpeg?resize=474%2C480" alt="Rplot4" width="474" height="480" srcset="https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot4.jpeg?w=529&amp;ssl=1 529w, https://i1.wp.com/www.timassal.com/wp-content/uploads/2015/02/Rplot4.jpeg?resize=296%2C300&amp;ssl=1 296w" sizes="(max-width: 474px) 100vw, 474px" data-recalc-dims="1" /></a><figcaption id="caption-attachment-887" class="wp-caption-text">Plot of raster r3 with cell values above threshold rescaled between 0 and 1. Areas below threshold are set to 0, not NA.</figcaption></figure></p>
<p>&nbsp;</p>
<p>Once each raster is rescaled accordingly, we need to determine which raster has a higher value for a given cell and assign a new value accordingly. This is a straightforward exercise in ArcGIS, but it is a bit more complicated in R.</p>
<p>In my example, one would want to identify the pixels where both species are predicted to occur. I won&#8217;t go into that step here, as the workflow below only addresses those pixels where there are probability values for each cover type.</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5f2183647367a367656279" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title">Determine which raster value is higher</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">R</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#assume raster r5 and r6 have a range of values that overlap
#r5 rmin=0.35, rmax=1
#r6 rmin=0.6, rmax=1
#determine which cell value is higher, assign 1 if r5, assign 2 if r6, if 0, assign a 0 again

#returns all values of a Raster* object as a matrix
as.matrix(r5)
as.matrix(r6)

#create an empty raster r7 that matches the extent of the other rasters
r7&lt;-raster(ncol=518, nrow=428, xmn=643128.9, xmx=648308.9, ymn=4523269, ymx=4527549)
projection(r7)="+proj=utm +zone=12 +ellps=WGS84 +units=m +no_defs" #assign projection to match

#fxn to execute a conditional statement
Con=function(condition, trueValue, falseValue){
  return(condition * trueValue + (!condition)*falseValue)
}

#create a matrix m and execute conditional statement
m = as.matrix(Con(r5&gt;r6,1,Con(r5&lt;r6, 2, 0))) #if r5&lt;r6, assign value of 1, else value of 2

#assign values of matrix m to raster r7
values(m)=r7

#the raster r7 contains a value of 1 if r5 pixel had a higher value, 2 if r6 had a higher value and 0 if both input rasters had a value of 0.</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums" data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5f2183647367a367656279-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-2">2</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-4">4</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-6">6</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-8">8</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-10">10</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-12">12</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-14">14</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-16">16</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-18">18</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-20">20</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-22">22</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5f2183647367a367656279-24">24</div><div class="crayon-num" data-line="crayon-5f2183647367a367656279-25">25</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5f2183647367a367656279-1"><span class="crayon-c">#assume raster r5 and r6 have a range of values that overlap</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-2"><span class="crayon-c">#r5 rmin=0.35, rmax=1</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-3"><span class="crayon-c">#r6 rmin=0.6, rmax=1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-4"><span class="crayon-c">#determine which cell value is higher, assign 1 if r5, assign 2 if r6, if 0, assign a 0 again</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-6"><span class="crayon-c">#returns all values of a Raster* object as a matrix</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-7"><span class="crayon-st">as</span><span class="crayon-sy">.</span><span class="crayon-e">matrix</span><span class="crayon-sy">(</span><span class="crayon-v">r5</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-8"><span class="crayon-st">as</span><span class="crayon-sy">.</span><span class="crayon-e">matrix</span><span class="crayon-sy">(</span><span class="crayon-v">r6</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-10"><span class="crayon-c">#create an empty raster r7 that matches the extent of the other rasters</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-11"><span class="crayon-v">r7</span><span class="crayon-o">&lt;</span><span class="crayon-o">-</span><span class="crayon-e">raster</span><span class="crayon-sy">(</span><span class="crayon-v">ncol</span><span class="crayon-o">=</span><span class="crayon-cn">518</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">nrow</span><span class="crayon-o">=</span><span class="crayon-cn">428</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">xmn</span><span class="crayon-o">=</span><span class="crayon-cn">643128.9</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">xmx</span><span class="crayon-o">=</span><span class="crayon-cn">648308.9</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ymn</span><span class="crayon-o">=</span><span class="crayon-cn">4523269</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">ymx</span><span class="crayon-o">=</span><span class="crayon-cn">4527549</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-12"><span class="crayon-e">projection</span><span class="crayon-sy">(</span><span class="crayon-v">r7</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-s">"+proj=utm +zone=12 +ellps=WGS84 +units=m +no_defs"</span><span class="crayon-h"> </span><span class="crayon-c">#assign projection to match</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-14"><span class="crayon-c">#fxn to execute a conditional statement</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-15"><span class="crayon-v">Con</span><span class="crayon-o">=</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">condition</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">trueValue</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">falseValue</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-16"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">(</span><span class="crayon-v">condition</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-v">trueValue</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">condition</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-v">falseValue</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-17"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-18">&nbsp;</div><div class="crayon-line" id="crayon-5f2183647367a367656279-19"><span class="crayon-c">#create a matrix m and execute conditional statement</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-20"><span class="crayon-v">m</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-st">as</span><span class="crayon-sy">.</span><span class="crayon-e">matrix</span><span class="crayon-sy">(</span><span class="crayon-e">Con</span><span class="crayon-sy">(</span><span class="crayon-v">r5</span><span class="crayon-o">&gt;</span><span class="crayon-v">r6</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-e">Con</span><span class="crayon-sy">(</span><span class="crayon-v">r5</span><span class="crayon-o">&lt;</span><span class="crayon-v">r6</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-c">#if r5&lt;r6, assign value of 1, else value of 2</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-22"><span class="crayon-c">#assign values of matrix m to raster r7</span></div><div class="crayon-line" id="crayon-5f2183647367a367656279-23"><span class="crayon-e">values</span><span class="crayon-sy">(</span><span class="crayon-v">m</span><span class="crayon-sy">)</span><span class="crayon-o">=</span><span class="crayon-v">r7</span></div><div class="crayon-line crayon-striped-line" id="crayon-5f2183647367a367656279-24">&nbsp;</div><div class="crayon-line" id="crayon-5f2183647367a367656279-25"><span class="crayon-c">#the raster r7 contains a value of 1 if r5 pixel had a higher value, 2 if r6 had a higher value and 0 if both input rasters had a value of 0.</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0006 seconds] -->
<p>Now the raster r7 can be used to overwrite the value of a pixel in an ensemble model where both cover types are predicted to occur. Since pixels where only one cover type were predicted to occur are zeroed out, raster r7 can be incorporated into the ensemble model through a basic raster math calculation.</p>
<p><strong>Literature Cited</strong></p>
<p>Assal, T., Anderson, P., Sibold, J., 2015. <a title="Manuscript Link" href="http://www.tandfonline.com/doi/full/10.1080/2150704X.2015.1072289#abstract" target="_blank" rel="noopener noreferrer">Mapping forest functional type in a forest-shrubland ecotone using SPOT imagery and predictive habitat distribution modelling.</a> <em>Remote Sensing Letters</em>. 6, 755–764.</p>
<div class="twttr_buttons">
<div class="twttr_twitter">
					<a href="http://twitter.com/share?text=Raster+Analysis+in+R%3A+rescaling+and+conditional+statements" class="twitter-share-button" data-via="" data-hashtags=""  data-size="default" data-url="https://tjassal.github.io/LabWebsite/2015/02/25/raster-analysis-in-r-rescaling-and-conditional-statements/"  data-related="" target="_blank">Tweet</a>
				</div>
</div>
	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="https://tjassal.github.io/LabWebsite/tag/centering-data/" rel="tag">Centering data</a><a href="https://tjassal.github.io/LabWebsite/tag/conditional-statement/" rel="tag">conditional statement</a><a href="https://tjassal.github.io/LabWebsite/tag/r-statistics/" rel="tag">R statistics</a><a href="https://tjassal.github.io/LabWebsite/tag/raster/" rel="tag">Raster</a><a href="https://tjassal.github.io/LabWebsite/tag/raster-rescale-function/" rel="tag">Raster rescale function</a><a href="https://tjassal.github.io/LabWebsite/tag/species-distribution-modeling/" rel="tag">species distribution modeling</a></span></footer></article><!-- #post-859 -->
		</div><!-- #content -->
	</section><!-- #primary -->

<div id="content-sidebar" class="content-sidebar widget-area" role="complementary">
	<aside id="bwp_gallery-2" class="widget bwp_gallery"><h1 class="widget-title">Fieldwork Photos</h1><style id="bwg-style-0">    #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails {
      width: 2704px;
              justify-content: center;
        margin:0 auto !important;
              background-color: rgba(255, 255, 255, 0.00);
            padding-left: 4px;
      padding-top: 4px;
      max-width: 100%;
            }
        #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-item {
      justify-content: flex-start;
      max-width: 100px;
            width: 100px !important;
          }
    #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-item > a {
       margin-right: 4px;
       margin-bottom: 4px;
    }
    #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-item0 {
      padding: 4px;
            background-color:rgba(232,232,232, 0.30);
      border: 5px none #FFFFFF;
      opacity: 1.00;
      border-radius: 0;
      box-shadow: 0px 0px 0px #888888;
    }
    #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-item1 img {
      max-height: none;
      max-width: none;
      padding: 0 !important;
    }
        @media only screen and (min-width: 480px) {
      #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-item0 {
        transition: all 0.3s ease 0s;-webkit-transition: all 0.3s ease 0s;      }
      #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-item0:hover {
        -ms-transform: rotate(2deg);
        -webkit-transform: rotate(2deg);
        transform: rotate(2deg);
      }
    }
          #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-item1 {
      padding-top: 100%;
    }
        #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-title2,
    #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-ecommerce2 {
      color: #CCCCCC;
      font-family: segoe ui;
      font-size: 16px;
      font-weight: bold;
      padding: 5px;
      text-shadow: ;
      max-height: 100%;
    }
    #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-thumb-description span {
    color: #323A45;
    font-family: Ubuntu;
    font-size: 12px;
    max-height: 100%;
    word-wrap: break-word;
    }
    #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-play-icon2 {
      font-size: 32px;
    }
    #bwg_container1_0 #bwg_container2_0 .bwg-container-0.bwg-standard-thumbnails .bwg-ecommerce2 {
      font-size: 19.2px;
      color: #CCCCCC;
    }
    </style>    <div id="bwg_container1_0"
         class="bwg_container bwg_thumbnail bwg_thumbnails"
         data-right-click-protection="0"
         data-bwg="0"
         data-current-url="https://tjassal.github.io/LabWebsite/tag/raster/"
         data-lightbox-url="https://tjassal.github.io/LabWebsite/wp-admin/admin-ajax.php?action=GalleryBox&current_view=0&gallery_id=1&tag=0&theme_id=2&shortcode_id=0&sort_by=order&order_by=ASC&current_url=https%3A%2F%2Ftjassal.github.io%2FLabWebsite%2Ftag%2Fraster%2F"
         data-gallery-id="1"
         data-popup-width="800"
         data-popup-height="500"
         data-buttons-position="bottom">
      <div id="bwg_container2_0">
             <div id="ajax_loading_0" class="bwg_loading_div_1">
      <div class="bwg_loading_div_2">
        <div class="bwg_loading_div_3">
          <div id="loading_div_0" class="bwg_spider_ajax_loading">
          </div>
        </div>
      </div>
    </div>
            <form id="gal_front_form_0"
              class="bwg-hidden"
              method="post"
              action="#"
              data-current="0"
              data-shortcode-id="0"
              data-gallery-type="thumbnails"
              data-gallery-id="1"
              data-tag="0"
              data-album-id="0"
              data-theme-id="2"
              data-ajax-url="https://tjassal.github.io/LabWebsite/wp-admin/admin-ajax.php?action=bwg_frontend_data">
          <div id="bwg_container3_0" class="bwg-background bwg-background-0">
                <div data-max-count="27"
         data-thumbnail-width="100"
         data-bwg="0"
         data-gallery-id="1"
         data-lightbox-url="https://tjassal.github.io/LabWebsite/wp-admin/admin-ajax.php?action=GalleryBox&current_view=0&gallery_id=1&tag=0&theme_id=2&shortcode_id=0&sort_by=order&order_by=ASC&current_url=https%3A%2F%2Ftjassal.github.io%2FLabWebsite%2Ftag%2Fraster%2F"
         id="bwg_thumbnails_0"
         class="bwg-container-0 bwg-thumbnails bwg-standard-thumbnails bwg-container bwg-border-box">
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="30" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/LM_4b.jpg">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="30"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/LM_4b.jpg"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/LM_4b.jpg"
                   alt="LM_4b  " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="24" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/tnp39.jpg">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="24"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp39.jpg"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp39.jpg"
                   alt="tnp39    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="8" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8154.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="8"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8154.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8154.JPG"
                   alt="DSCN8154   " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="6" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8000.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="6"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8000.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8000.JPG"
                   alt="DSCN8000    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="5" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN7946.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="5"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN7946.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN7946.JPG"
                   alt="DSCN7946   " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="10" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8324.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="10"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8324.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8324.JPG"
                   alt="DSCN8324   " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="7" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8028.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="7"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8028.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8028.JPG"
                   alt="DSCN8028    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="1" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN7743.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="1"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN7743.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN7743.JPG"
                   alt="DSCN7743   " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="20" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/tnp20.jpg">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="20"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp20.jpg"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp20.jpg"
                   alt="tnp20    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="25" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/2014-LM-037.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="25"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/2014-LM-037.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/2014-LM-037.JPG"
                   alt="2014-LM-037   " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="15" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8531.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="15"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8531.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8531.JPG"
                   alt="DSCN8531    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="13" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8384.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="13"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8384.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8384.JPG"
                   alt="DSCN8384    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="4" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN7796.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="4"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN7796.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN7796.JPG"
                   alt="DSCN7796   " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="26" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/2014-LM-069.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="26"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/2014-LM-069.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/2014-LM-069.JPG"
                   alt="2014-LM-069   " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="23" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/tnp32.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="23"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp32.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp32.JPG"
                   alt="tnp32    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="2" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN7745.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="2"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN7745.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN7745.JPG"
                   alt="DSCN7745    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="22" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/tnp30.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="22"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp30.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp30.JPG"
                   alt="tnp30    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="27" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/2014-LM-070.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="27"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/2014-LM-070.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/2014-LM-070.JPG"
                   alt="2014-LM-070    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="19" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/tnp6.jpg">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="19"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp6.jpg"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp6.jpg"
                   alt="tnp6    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="17" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8651.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="17"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8651.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8651.JPG"
                   alt="DSCN8651    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="18" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/tnp1.jpg">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="18"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp1.jpg"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp1.jpg"
                   alt="tnp1     " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="12" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8331.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="12"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8331.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8331.JPG"
                   alt="DSCN8331    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="16" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8535.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="16"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8535.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8535.JPG"
                   alt="DSCN8535    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="28" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/2014-PM-143.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="28"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/2014-PM-143.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/2014-PM-143.JPG"
                   alt="2014-PM-143    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="21" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/tnp27.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="21"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp27.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/tnp27.JPG"
                   alt="tnp27    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="14" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8529.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="14"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8529.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8529.JPG"
                   alt="DSCN8529    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
            <div class="bwg-item">
        <a class="bwg-a bwg_lightbox"  data-image-id="11" href="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/DSCN8326.JPG">
                <div class="bwg-item0">
          <div class="bwg-item1">
            <div class="bwg-item2">
              <img class="skip-lazy bwg_standart_thumb_img_0"
                   data-id="11"
                   data-width=""
                   data-height=""
                   data-original="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8326.JPG"
                   src="https://tjassal.github.io/LabWebsite/wp-content/uploads/photo-gallery/thumb/DSCN8326.JPG"
                   alt="DSCN8326    " />
            </div>
            <div class="">
                                                      </div>
          </div>
        </div>
                                </a>
      </div>
          </div>
              </div>
        </form>
          <style>          #bwg_container1_0 #bwg_container2_0 #spider_popup_overlay_0 {
          background-color: #000000;
          opacity: 0.70;
          }
          </style>        <div id="bwg_spider_popup_loading_0" class="bwg_spider_popup_loading"></div>
        <div id="spider_popup_overlay_0" class="spider_popup_overlay" onclick="spider_destroypopup(1000)"></div>
        <input type="hidden" id="bwg_random_seed_0" value="1170319219">
                </div>
    </div>
    <script>
      jQuery(document).ready(function () {
        bwg_main_ready();
      });
    </script>
    </aside><aside id="text-4" class="widget widget_text">			<div class="textwidget"></div>
		</aside><aside id="tag_cloud-2" class="widget widget_tag_cloud"><h1 class="widget-title">Tags</h1><div class="tagcloud"><ul class='wp-tag-cloud' role='list'>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/andes-mountains/" class="tag-cloud-link tag-link-132 tag-link-position-1" style="font-size: 9.2727272727273pt;" aria-label="Andes Mountains (4 items)">Andes Mountains</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/burn-severity/" class="tag-cloud-link tag-link-161 tag-link-position-2" style="font-size: 9.2727272727273pt;" aria-label="burn severity (4 items)">burn severity</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/call-for-papers/" class="tag-cloud-link tag-link-233 tag-link-position-3" style="font-size: 11.181818181818pt;" aria-label="Call for papers (6 items)">Call for papers</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/chile/" class="tag-cloud-link tag-link-15 tag-link-position-4" style="font-size: 11.181818181818pt;" aria-label="Chile (6 items)">Chile</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/color-infrared/" class="tag-cloud-link tag-link-120 tag-link-position-5" style="font-size: 8pt;" aria-label="color-infrared (3 items)">color-infrared</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/colorado/" class="tag-cloud-link tag-link-16 tag-link-position-6" style="font-size: 12.454545454545pt;" aria-label="Colorado (8 items)">Colorado</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/coniferous-forest/" class="tag-cloud-link tag-link-155 tag-link-position-7" style="font-size: 15pt;" aria-label="coniferous forest (13 items)">coniferous forest</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/deciduous-forest/" class="tag-cloud-link tag-link-154 tag-link-position-8" style="font-size: 15pt;" aria-label="deciduous forest (13 items)">deciduous forest</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/drought/" class="tag-cloud-link tag-link-97 tag-link-position-9" style="font-size: 15.636363636364pt;" aria-label="drought (15 items)">drought</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/ecosystem-disturbance/" class="tag-cloud-link tag-link-164 tag-link-position-10" style="font-size: 16.018181818182pt;" aria-label="ecosystem disturbance (16 items)">ecosystem disturbance</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/ecotone/" class="tag-cloud-link tag-link-149 tag-link-position-11" style="font-size: 8pt;" aria-label="ecotone (3 items)">ecotone</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/emodis/" class="tag-cloud-link tag-link-229 tag-link-position-12" style="font-size: 8pt;" aria-label="eMODIS (3 items)">eMODIS</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/forest-disturbance/" class="tag-cloud-link tag-link-116 tag-link-position-13" style="font-size: 16.018181818182pt;" aria-label="Forest Disturbance (16 items)">Forest Disturbance</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/forest-ecology/" class="tag-cloud-link tag-link-162 tag-link-position-14" style="font-size: 14.490909090909pt;" aria-label="forest ecology (12 items)">forest ecology</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/ggplot2/" class="tag-cloud-link tag-link-219 tag-link-position-15" style="font-size: 9.2727272727273pt;" aria-label="ggplot2 (4 items)">ggplot2</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/glacier-national-park/" class="tag-cloud-link tag-link-111 tag-link-position-16" style="font-size: 8pt;" aria-label="Glacier National Park (3 items)">Glacier National Park</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/google-earth-engine/" class="tag-cloud-link tag-link-261 tag-link-position-17" style="font-size: 9.2727272727273pt;" aria-label="Google Earth Engine (4 items)">Google Earth Engine</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/landsat/" class="tag-cloud-link tag-link-45 tag-link-position-18" style="font-size: 17.163636363636pt;" aria-label="Landsat (20 items)">Landsat</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/lay-summary/" class="tag-cloud-link tag-link-157 tag-link-position-19" style="font-size: 9.2727272727273pt;" aria-label="lay summary (4 items)">lay summary</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/modis/" class="tag-cloud-link tag-link-53 tag-link-position-20" style="font-size: 12.454545454545pt;" aria-label="MODIS (8 items)">MODIS</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/mountain-pine-beetle/" class="tag-cloud-link tag-link-112 tag-link-position-21" style="font-size: 8pt;" aria-label="Mountain Pine Beetle (3 items)">Mountain Pine Beetle</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/ndvi-time-series/" class="tag-cloud-link tag-link-117 tag-link-position-22" style="font-size: 13.090909090909pt;" aria-label="NDVI time series (9 items)">NDVI time series</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/normalized-difference-moisture-index/" class="tag-cloud-link tag-link-177 tag-link-position-23" style="font-size: 9.2727272727273pt;" aria-label="Normalized Difference Moisture Index (4 items)">Normalized Difference Moisture Index</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/open-access/" class="tag-cloud-link tag-link-108 tag-link-position-24" style="font-size: 15pt;" aria-label="open access (13 items)">open access</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/open-data/" class="tag-cloud-link tag-link-156 tag-link-position-25" style="font-size: 15.636363636364pt;" aria-label="open data (15 items)">open data</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/open-science/" class="tag-cloud-link tag-link-145 tag-link-position-26" style="font-size: 18.181818181818pt;" aria-label="Open Science (24 items)">Open Science</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/open-source/" class="tag-cloud-link tag-link-107 tag-link-position-27" style="font-size: 11.818181818182pt;" aria-label="open source (7 items)">open source</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/quaking-aspen/" class="tag-cloud-link tag-link-150 tag-link-position-28" style="font-size: 8pt;" aria-label="quaking aspen (3 items)">quaking aspen</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/raster/" class="tag-cloud-link tag-link-134 tag-link-position-29" style="font-size: 12.454545454545pt;" aria-label="Raster (8 items)">Raster</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/remote-sensing/" class="tag-cloud-link tag-link-63 tag-link-position-30" style="font-size: 22pt;" aria-label="remote sensing (49 items)">remote sensing</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/r-statistics/" class="tag-cloud-link tag-link-135 tag-link-position-31" style="font-size: 16.4pt;" aria-label="R statistics (17 items)">R statistics</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/sagebrush-steppe/" class="tag-cloud-link tag-link-65 tag-link-position-32" style="font-size: 9.2727272727273pt;" aria-label="sagebrush steppe (4 items)">sagebrush steppe</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/satellite-imagery/" class="tag-cloud-link tag-link-66 tag-link-position-33" style="font-size: 18.945454545455pt;" aria-label="satellite imagery (28 items)">satellite imagery</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/science-communication/" class="tag-cloud-link tag-link-71 tag-link-position-34" style="font-size: 20.981818181818pt;" aria-label="science communication (41 items)">science communication</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/science-outreach/" class="tag-cloud-link tag-link-203 tag-link-position-35" style="font-size: 11.181818181818pt;" aria-label="science outreach (6 items)">science outreach</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/spatial-ecology/" class="tag-cloud-link tag-link-165 tag-link-position-36" style="font-size: 17.927272727273pt;" aria-label="spatial ecology (23 items)">spatial ecology</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/spatial-statistics/" class="tag-cloud-link tag-link-119 tag-link-position-37" style="font-size: 15.381818181818pt;" aria-label="Spatial Statistics (14 items)">Spatial Statistics</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/species-distribution-modeling/" class="tag-cloud-link tag-link-139 tag-link-position-38" style="font-size: 11.181818181818pt;" aria-label="species distribution modeling (6 items)">species distribution modeling</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/time-series/" class="tag-cloud-link tag-link-98 tag-link-position-39" style="font-size: 14.109090909091pt;" aria-label="time series (11 items)">time series</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/tolhuaca-national-park/" class="tag-cloud-link tag-link-80 tag-link-position-40" style="font-size: 10.290909090909pt;" aria-label="Tolhuaca National Park (5 items)">Tolhuaca National Park</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/wildfire/" class="tag-cloud-link tag-link-88 tag-link-position-41" style="font-size: 11.818181818182pt;" aria-label="wildfire (7 items)">wildfire</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/wlci/" class="tag-cloud-link tag-link-91 tag-link-position-42" style="font-size: 11.818181818182pt;" aria-label="WLCI (7 items)">WLCI</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/wy/" class="tag-cloud-link tag-link-125 tag-link-position-43" style="font-size: 8pt;" aria-label="WY (3 items)">WY</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/wyoming/" class="tag-cloud-link tag-link-93 tag-link-position-44" style="font-size: 15pt;" aria-label="Wyoming (13 items)">Wyoming</a></li>
	<li><a href="https://tjassal.github.io/LabWebsite/tag/wyoming-landscape-conservation-initiative/" class="tag-cloud-link tag-link-166 tag-link-position-45" style="font-size: 11.181818181818pt;" aria-label="Wyoming Landscape Conservation Initiative (6 items)">Wyoming Landscape Conservation Initiative</a></li>
</ul>
</div>
</aside></div><!-- #content-sidebar -->
<div id="secondary">
		<h2 class="site-description">Research focused on biogeography, spatial ecology and landscape change at Kent State University</h2>
	
	
		<div id="primary-sidebar" class="primary-sidebar widget-area" role="complementary">
		<aside id="text-2" class="widget widget_text"><h1 class="widget-title">Contact Information</h1>			<div class="textwidget"><div><strong><i>Timothy J. Assal, Ph.D.<br />
</i></strong></div>
<div><strong><i>Assistant Professor</i></strong></div>
<div><strong><i>Department of Geography</i></strong></div>
<div><strong><i>Kent State University*</i></strong></div>
<div><strong><i>Kent, OH 44242 USA</i></strong></div>
<div><strong><i><a href="mailto:tassal@kent.edu" target="_blank" rel="noopener noreferrer">tassal@kent.edu</a> </i></strong></div>
<div><a href="https://tjassal.github.io/LabWebsite/" target="_blank" rel="noopener noreferrer"><em><strong>www.timassal.com</strong> </em></a></div>
</div>
		</aside><aside id="text-3" class="widget widget_text">			<div class="textwidget"><a href="http://twitter.com/TimAssal" class="twitter-follow-button">Follow @TimAssal</a>

</div>
		</aside><aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="https://tjassal.github.io/LabWebsite/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s" />
				</label>
				<input type="submit" class="search-submit" value="Search" />
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2020/04/28/new-publication-on-aspen-in-the-intermountain-west/">New publication on aspen in the intermountain west</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2020/03/28/visualizing-the-shutdown-from-covid19-the-venetian-lagoon/">Visualizing the COVID19 shutdown from space: The Venetian Lagoon</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2020/03/09/introduction-to-r-technology-workshop-at-kent-state-university/">&#8216;Introduction to R&#8217; Technology Workshop at Kent State University</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2020/02/04/mogadore-high-school-visits-ksu/">Mogadore High School visits the KSU Geography Department</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2020/02/03/why-you-should-use-a-reference-manager/">Why YOU should use a reference manager</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2019/12/08/presentation-at-the-american-geophysical-union-fall-2019-annual-meeting/">Presentation at the American Geophysical Union Fall 2019 Annual Meeting</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2019/11/07/spatial-mapping-with-ggplot/">Spatial Mapping with ggplot</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2019/10/30/plotting-probability-curves-to-aid-in-interpretation-of-predictor-variables-in-a-logistic-model/">Plotting probability curves to aid in interpretation of predictor variables in a logistic model</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2019/07/29/onward-and-upward-to-a-new-position/">Onward and upward&#8230;to a new position</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2019/05/31/moving-windows-in-r-rectangles-circles-and-zeros-oh-my/">Moving Windows in R: Rectangles, Circles, and Zeros&#8230;Oh my!</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2019/04/08/presentation-at-the-us-international-assoc-for-landscape-ecology-annual-meeting-2019/">Presentation at the US-International Assoc. for Landscape Ecology Annual Meeting 2019</a>
									</li>
											<li>
					<a href="https://tjassal.github.io/LabWebsite/2019/04/03/presentation-at-the-american-association-of-geographers-2019-annual-meeting/">Presentation at the American Association of Geographers 2019 Annual Meeting</a>
									</li>
					</ul>
		</aside><aside id="archives-2" class="widget widget_archive"><h1 class="widget-title">Archives</h1>		<label class="screen-reader-text" for="archives-dropdown-2">Archives</label>
		<select id="archives-dropdown-2" name="archive-dropdown">
			
			<option value="">Select Month</option>
				<option value='https://tjassal.github.io/LabWebsite/2020/04/'> April 2020 </option>
	<option value='https://tjassal.github.io/LabWebsite/2020/03/'> March 2020 </option>
	<option value='https://tjassal.github.io/LabWebsite/2020/02/'> February 2020 </option>
	<option value='https://tjassal.github.io/LabWebsite/2019/12/'> December 2019 </option>
	<option value='https://tjassal.github.io/LabWebsite/2019/11/'> November 2019 </option>
	<option value='https://tjassal.github.io/LabWebsite/2019/10/'> October 2019 </option>
	<option value='https://tjassal.github.io/LabWebsite/2019/07/'> July 2019 </option>
	<option value='https://tjassal.github.io/LabWebsite/2019/05/'> May 2019 </option>
	<option value='https://tjassal.github.io/LabWebsite/2019/04/'> April 2019 </option>
	<option value='https://tjassal.github.io/LabWebsite/2019/02/'> February 2019 </option>
	<option value='https://tjassal.github.io/LabWebsite/2018/12/'> December 2018 </option>
	<option value='https://tjassal.github.io/LabWebsite/2018/09/'> September 2018 </option>
	<option value='https://tjassal.github.io/LabWebsite/2018/08/'> August 2018 </option>
	<option value='https://tjassal.github.io/LabWebsite/2018/07/'> July 2018 </option>
	<option value='https://tjassal.github.io/LabWebsite/2018/06/'> June 2018 </option>
	<option value='https://tjassal.github.io/LabWebsite/2018/05/'> May 2018 </option>
	<option value='https://tjassal.github.io/LabWebsite/2018/04/'> April 2018 </option>
	<option value='https://tjassal.github.io/LabWebsite/2018/02/'> February 2018 </option>
	<option value='https://tjassal.github.io/LabWebsite/2018/01/'> January 2018 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/12/'> December 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/10/'> October 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/09/'> September 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/08/'> August 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/07/'> July 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/06/'> June 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/05/'> May 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/04/'> April 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/02/'> February 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2017/01/'> January 2017 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/12/'> December 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/11/'> November 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/10/'> October 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/09/'> September 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/08/'> August 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/07/'> July 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/06/'> June 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/04/'> April 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/03/'> March 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/02/'> February 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2016/01/'> January 2016 </option>
	<option value='https://tjassal.github.io/LabWebsite/2015/12/'> December 2015 </option>
	<option value='https://tjassal.github.io/LabWebsite/2015/11/'> November 2015 </option>
	<option value='https://tjassal.github.io/LabWebsite/2015/09/'> September 2015 </option>
	<option value='https://tjassal.github.io/LabWebsite/2015/08/'> August 2015 </option>
	<option value='https://tjassal.github.io/LabWebsite/2015/07/'> July 2015 </option>
	<option value='https://tjassal.github.io/LabWebsite/2015/06/'> June 2015 </option>
	<option value='https://tjassal.github.io/LabWebsite/2015/02/'> February 2015 </option>
	<option value='https://tjassal.github.io/LabWebsite/2014/12/'> December 2014 </option>
	<option value='https://tjassal.github.io/LabWebsite/2014/11/'> November 2014 </option>
	<option value='https://tjassal.github.io/LabWebsite/2014/10/'> October 2014 </option>
	<option value='https://tjassal.github.io/LabWebsite/2014/08/'> August 2014 </option>
	<option value='https://tjassal.github.io/LabWebsite/2014/05/'> May 2014 </option>
	<option value='https://tjassal.github.io/LabWebsite/2014/04/'> April 2014 </option>
	<option value='https://tjassal.github.io/LabWebsite/2014/02/'> February 2014 </option>
	<option value='https://tjassal.github.io/LabWebsite/2014/01/'> January 2014 </option>
	<option value='https://tjassal.github.io/LabWebsite/2013/12/'> December 2013 </option>
	<option value='https://tjassal.github.io/LabWebsite/2013/10/'> October 2013 </option>
	<option value='https://tjassal.github.io/LabWebsite/2013/09/'> September 2013 </option>
	<option value='https://tjassal.github.io/LabWebsite/2013/08/'> August 2013 </option>
	<option value='https://tjassal.github.io/LabWebsite/2013/03/'> March 2013 </option>
	<option value='https://tjassal.github.io/LabWebsite/2012/12/'> December 2012 </option>
	<option value='https://tjassal.github.io/LabWebsite/2012/10/'> October 2012 </option>
	<option value='https://tjassal.github.io/LabWebsite/2012/08/'> August 2012 </option>
	<option value='https://tjassal.github.io/LabWebsite/2012/07/'> July 2012 </option>
	<option value='https://tjassal.github.io/LabWebsite/2012/05/'> May 2012 </option>

		</select>

<script type='text/javascript'>
/* <![CDATA[ */
(function() {
	var dropdown = document.getElementById( "archives-dropdown-2" );
	function onSelectChange() {
		if ( dropdown.options[ dropdown.selectedIndex ].value !== '' ) {
			document.location.href = this.options[ this.selectedIndex ].value;
		}
	}
	dropdown.onchange = onSelectChange;
})();
/* ]]> */
</script>

		</aside>	</div><!-- #primary-sidebar -->
	</div><!-- #secondary -->

		</div><!-- #main -->

		<footer id="colophon" class="site-footer" role="contentinfo">

			
			<div class="site-info">
												<a href="https://wordpress.org/" class="imprint">
					Proudly powered by WordPress				</a>
			</div><!-- .site-info -->
		</footer><!-- #colophon -->
	</div><!-- #page -->

	
<!-- BEGIN Clicky Analytics v1.6.1 Tracking - https://deconf.com/clicky-analytics-dashboard-wordpress/ -->
<noscript><p><img alt="Clicky" width="1" height="1" src="//in.getclicky.com/100669114ns.gif" /></p></noscript>
<!-- END Clicky Analytics v1.6.1 Tracking - https://deconf.com/clicky-analytics-dashboard-wordpress/ -->
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shCore.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCSharp.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushPhp.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushJScript.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushJava.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushVb.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushSql.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushXml.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushDelphi.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushPython.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushRuby.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCss.js"></script>
<script class="javascript" src="https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/shBrushCpp.js"></script>
<script class="javascript">
dp.SyntaxHighlighter.ClipboardSwf = 'https://tjassal.github.io/LabWebsite/wp-content/plugins/google-syntax-highlighter/Scripts/clipboard.swf';
dp.SyntaxHighlighter.HighlightAll('code');
</script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56217214-1', 'auto');
  ga('send', 'pageview');

</script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/plugins/jetpack/_inc/build/photon/photon.min.js?ver=20191001'></script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/themes/twentyfourteen/js/functions.js?ver=20171218'></script>
<script type='text/javascript' src='https://tjassal.github.io/LabWebsite/wp-content/plugins/easy-twitter-feed-widget/js/twitter-widgets.js?ver=1.0'></script>
<script type='text/javascript'>
!function(d,s,id) {
					var js,fjs=d.getElementsByTagName(s)[0];
					if (!d.getElementById(id)) {
						js=d.createElement(s);
						js.id=id;
						js.src="https://platform.twitter.com/widgets.js";
						fjs.parentNode.insertBefore(js,fjs);
					}
				}(document,"script","twitter-wjs")
</script>
<script type='text/javascript' src='https://stats.wp.com/e-202031.js' async='async' defer='defer'></script>
<script type='text/javascript'>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.3',blog:'77891341',post:'0',tz:'-6',srv:'www.timassal.com'} ]);
	_stq.push([ 'clickTrackerInit', '77891341', '0' ]);
</script>
</body>
</html>
